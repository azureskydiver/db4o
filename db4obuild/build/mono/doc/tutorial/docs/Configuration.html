<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="stylesheet" type="text/css" href="docs.css">
</head>
<body><div id="pagecontainer"><table><tr><td width="5">&nbsp;</td><td><a name="Configuration"></a><br>
<a name="outline528"></a><br><h1>12. Configuration</h1><br>
db4o provides a wide range of configuration methods to request&nbsp;special behaviour. For a complete list of all available methods&nbsp;see the API documentation for the com.db4o.config package/namespace.<br>
<br>
Some hints around using configuration calls:<br>
<br>
<ul>
<a name="outline529"></a><br><h2>12.1. Scope</h2>Configuration calls can be issued to a global VM-wide configuration&nbsp;context with<br>
<table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td class="lg">
<code>Db4o.configure()</code></td></tr></table>
<br>
and to an open ObjectContainer/ObjectServer with <br>
<table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td class="lg">
<code>objectContainer.ext().configure() <br>
objectServer.ext().configure()</code></td></tr></table>
<br>
<br>
When an ObjectContainer/ObjectServer is opened, the global&nbsp;configuration context is cloned and copied into the newly opened&nbsp;ObjectContainer/ObjectServer. Subsequent calls against the global&nbsp;context with Db4o.configure() have no effect on open&nbsp;ObjectContainers/ObjectServers.<br>
<br>
<a name="outline530"></a><br><h2>12.2. Calling Methods</h2>Many configuration methods have to be called before an&nbsp;ObjectContainer/ObjectServer is opened and will be ignored&nbsp;if they are called against open ObjectContainers/ObjectServers.&nbsp;Some examples:<br>
<table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td class="lg">
<code>Configuration conf = Db4o.configure();<br>
conf.objectClass(Foo.class).objectField("bar").indexed(true);<br>
conf.objectClass(Foo.class).cascadeOnUpdate();<br>
conf.objectClass(Foo.class).cascadeOnDelete();<br>
conf.objectClass(typeof(System.Drawing.Image))<br>
&nbsp;&nbsp;.translate(new TSerializable());<br>
conf.generateUUIDs(Integer.MAX_VALUE);<br>
conf.generateVersionNumbers(Integer.MAX_VALUE);<br>
conf.automaticShutDown(false);<br>
conf.lockDatabaseFile(false);<br>
conf.singleThreadedClient(true);<br>
conf.weakReferences(false);</code></td></tr></table>
<br>
<br>
Configurations that influence the database file format will&nbsp;have to take place, before a database is created, before the&nbsp;first #openXXX() call. Some examples:<br>
<table width="100%" cellpadding="3" cellspacing="0" border="0"><tr><td class="lg">
<code>Configuration conf = Db4o.configure();<br>
conf.blockSize(8);<br>
conf.encrypt(true);<br>
conf.password("yourEncryptionPasswordHere");<br>
conf.unicode(false);</code></td></tr></table>
<br>
<br>
Configuration settings are <b>not</b>&nbsp;stored in db4o database files.&nbsp;Accordingly all configuration methods have to be called&nbsp;<b>every time</b>&nbsp;before an ObjectContainer/ObjectServer is opened.&nbsp;For using db4o in client/server mode it is recommended to use the&nbsp;same global configuration on the server and on the client. To&nbsp;set this up nicely it makes sense to create one application class&nbsp;with one method that does all the db4o configuration and to deploy&nbsp;this class both to the server and to all clients.<br>
<br>
<a name="outline531"></a><br><h2>12.3. Further reading</h2>Some configuration switches are discussed in more detail in the following&nbsp;chapters:<br>
<a href="Tuning.html#Tuning">Tuning</a><br>
<a href="Indexes.html#Indexes">Indexes</a><br>
 <br><br><br><small>--<br>generated by </small><a href="http://www.db4objects.com/doctor/" target=_top><small>Doctor</small></a><small> courtesy of </small><a href="http://www.db4objects.com" target=_top><small>db4objects Inc.</small></a><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></td></tr></table></div></body></html>