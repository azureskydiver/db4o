package decaf.collections;

import java.lang.*;
import java.util.*;

class MyIterable implements com.db4o.foundation.IterableBase {
	public Iterator iterator() {
		return new ArrayList().iterator();
	}
}

class IterableMapping {
	public void test() {
		justIterate(com.db4o.foundation.IterableBaseFactory.coerce(new ArrayList()));		
		justIterateGeneric(com.db4o.foundation.IterableBaseFactory.coerce(new ArrayList()));
		justIterate(new MyIterable());
	}
		
	private void justIterate(com.db4o.foundation.IterableBase iterable) {
		for (java.util.Iterator vIter = iterable.iterator(); vIter.hasNext();) {
			final int v = ((Integer) vIter.next()).intValue();
			System.out.println(v);
		}
	}
	
	private void justIterateGeneric(com.db4o.foundation.IterableBase iterable) {
		for (java.util.Iterator vIter = iterable.iterator(); vIter.hasNext();) {
			final Object v = ((Object) vIter.next());
			System.out.println("First Pass: " + v);
		}
	
		for (java.util.Iterator v2Iter = iterable.iterator(); v2Iter.hasNext();) {
			final Object v2 = ((Object) v2Iter.next());
			System.out.println("Second Pass: " + v2);
		}
	}
	
	private void doCast(com.db4o.foundation.IterableBase iterable) {
		List list = (List)com.db4o.foundation.IterableBaseFactory.unwrap(iterable);
	}
	 	
}