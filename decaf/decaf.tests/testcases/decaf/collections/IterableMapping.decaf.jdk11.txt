package decaf.collections;

import java.util.*;
import com.db4o.types.*;

class MyIterable implements Iterable4 {
	public Iterator4 iterator() {
		return new com.db4o.foundation.Collection4().iterator();
	}
}

class SimpleIterable {
	public void test() {
		justIterate(new com.db4o.foundation.Collection4());		
		justIterateGeneric(new com.db4o.foundation.Collection4());
		justIterate(new MyIterable());
	}
		
	private void justIterate(Iterable4 iterable) {
		for (Iterator4 vIter = iterable.iterator(); vIter.moveNext();) {
			final int v = ((int) vIter.current());
			System.out.println(v);
		}	
	}
	
	private void justIterateGeneric(Iterable4 iterable) {
		for (Iterator4 vIter = iterable.iterator(); vIter.moveNext();) {
			final T v = ((Object) vIter.current());
			System.out.println("First Pass: " + v);
		}
	
		for (Iterator4 v2Iter = iterable.iterator(); v2Iter.moveNext();) {
			final T v2 = ((Object) v2Iter.current());
			System.out.println("Second Pass: " + v2);
		}
	}		
}