<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="797" MadCap:lastWidth="624" MadCap:ignoredWords="RandomAccessFileAdapter;randomAccessFileAdapter;NonFlushingIoAdapter;nonFlushingIoAdapter;CachedIoAdapter;cachedIoAdapter;disableCommitRecovery;DisableCommitRecovery;extObjectContainer;setSemaphore;getName;SetSemaphore;typeof;LOCK_;objectContainer;getID;GetID;getPilot;getSignature;idenity;car1;car2;car3;UUID;defragment;startsWith;getPoints;StartsWith;ExtentType;oql;AllPilots;OQLQuery;persistenceManager;newQuery;IList;IComparer;ObjectSet;IObjectSet;comparer;ExtObjectContainer;IExtObjectContainer;VB;pilot1;name1;name2;peekPersisted;isCached;JDO;WeakReferences;VM;ClientConfiguration;IClientConfiguration;BatchMessages;NO_OF_OBJECTS;maxBatchQueueSize;MaxBatchQueueSize;listResult;MessageRecipient;ObjectServer;openServer;ObjectNotStorableException;s;clientserverJava;ServerConfiguration;clientserverCS;cs;clientserverVB;vb;config;databaseFileName;int;NativeSocketFactory;socketFactory;OpenClient;hostName;IObjectServer;OpenServer;IConfiguration;INativeSocketFactory;IObjectContainer;genkey;SSLcert;storepass;SecureSocketFactory;IMessageSender;setMessageRecipient;SetMessageRecipient;IMessageRecipient;processMessage;ProcessMessage;ByVal;UpdateServer;waitMilliSeconds;releaseSemaphore;ReleaseSemaphore;monitorObject;semaphoreName;switchToFile;fileName;SwitchToFile;switchToMainFile;SwitchToMainFile;switchs;isAlive;IsAlive;replicateDeletions;ReplicateDeletions;GetType;g;ReplicationEvent;VersionNumbers;providerA;objectsChangedSinceLastReplication;ProviderA;ObjectsChangedSinceLastReplication;hbm;ProviderSignature;MySignature;PeerSignature;ReplicationProvider;HibernateReplicationProvider;ReplicationProviders;m;typed_id;pi2763;longPart;ObjectReference;className;typedId;Uuid;uuid;drs_providers;is_my_sig;t';f';drs_history;provider_id;PK;drs_objects;class_name;varchar;one_to_one;ReplicationConfigurator;SessionFactory;sessionFactory;buildSessionFactory;openSession;beginTransaction;createCriteria;AbstractDb4oTestCase;Db4oFixture;_fixture;AbstractSoloDb4oFixture;AbstractClientServerDb4oFixture;IDb4oFixture;IQuery;NewQuery;retrieveOnlyInstance;RetrieveOnlyInstance;countOccurences;CountOccurences;foreach;Visitor4;Foreach;IVisitor4;obj;deleteAll;DeleteAll;ReflectClass;reflectClass;indexField;fieldName;IndexField;Config;setUp;SetUp;db4oSetupBeforeStore;db4oSetupAfterStore;Db4oSetupBeforeStore;Db4oSetupAfterStore;runSoloAndClientServer;RunSoloAndClientServer;runSolo;RunSolo;runClientServer;RunClientServer;CodeBlock;Db4oUnit;ICodeBlock;isTrue;msg;IsTrue;bool;Msg;areEqual;AreEqual;FrameworkTestCase;runTestAndExpect;expFailures;RunTestAndExpect;ITest;GetConfig;storedType;runtimeType;tAlias;resolveRuntimeName;resolveStoredName;storedPattern;runtimePattern;aliasing;QueryStarted;QueryFinished;QueryEventArgs;ObjectEventArgs;CancellableObjectEventArgs;CommitEventArgs;client2;client1;WaitForCompletion;args;AddHandler;forObjectContainer;ForObjectContainer;OnCreated;createdEvent;onEvent;Event4;ABC0001DEF;MustInherit;CountedObject;IncrementedId;queryStarted;queryFinished;QueryStats;q;executionTime;activationCount;storedClass;Foo;classname;storedClasses;StoredClasses;getStoredFields;GetStoredFields;storedField;getParentStoredClass;GetParentStoredClass;reflectWith;Db4oFactory;ReflectWith;self_get;self_set;LoggingReflector;IoAdapter;MyEncryptionAdapter;Io;Db4oEnhancerMSBuildTask;SensorPanel;GetOptions;UsingTask;AssemblyFile;OutputPath;TaskName;ItemGroup;Db4oEnhance;TargetPath;AfterBuild;AbstractAssemblyInstrumentation;IAssemblyInstrumentation;TAInstrumentation;tp;EnhancementExample;tacustom;Db4oPersistent;typedef;classTargetDir;jarTargetDir;MaintenanceQueue;'Barrichello';'BMW';useIndexSystem;useRamSystem;discardSmallerThan;DiscardSmallerThan;allObjects;SumPilotPoints;SelectMinPointsPilot;AveragePilotPoints;CountSubGroups;SelectPilotsAndTrainees;SelectPilotsInRange;SelectAndChangePilots;SelectTestPilots6PointsMore;SelectPilots6To12Points;SelectPilotsRandom;SelectPilotsEven;SelectAnyOnePilot;SelectDistinctPilots;SelectAllPilots;SelectAllPilotsNonGeneric;GetSortedPilots;GetPilotsSortByNameAndPoints;GetPilotsSortWithComparator;SelectPilot5Points;SelectTestPilots;SelectPilotsNumberX6;newPackage;newClass;objectField;oldField;newField;newAssembly;ObjectField;aaplication">
    <head><title>Collection Example	<link href="../../../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="../../../Resources/Code/prettify.js"></script></title>
    </head>
    <body onload="prettyPrint()">
        <h1>Collection Example</h1>
        <p>
        </p>
        <p>Db4o provides proprietary TA-aware collection implementations:</p>
        <ul>
            <li>ArrayList4 and ArrayMap4 for Java (Recommended way to implement collections for Java 5 is using <a href="transparent_persistence_for_java_collections.htm">Transparent Persistence For Java Collections</a>) </li>
            <li>ArrayList4 and ArrayDictionary4 for .NET  </li>
        </ul>
        <p>implementations for Map and List interfaces. Both implementations, when instantiated as a result of a query, are transparently activated when internal members are required to perform an operation. Db4o implementations provide an important advantage over JDK collections when running in transparent activation mode, based on the ability to control their activation. </p>
        <p>ArrayList4 implements the generic list interface using an array to store elements. When an ArrayList4 instances activated all the elements of the array are loaded into memory. </p>
        <p>ArrayMap4 and ArrayDictionary4 classes implement the Map and IDictionary interface respectively using two arrays to store keys and values. The array values are transparently loaded into memory when ArrayMap4/ArrayDictionary4 instance is activated. </p>
        <p>For an example, we will use a <code>Team</code> class with a collection of <code>Pilot</code> objects:</p>
        <p>
            <p MadCap:conditions="Primary.Java">
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Team.java/Team.java.flsnp" />
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Pilot.java/Pilot.java.flsnp" />
            </p>
            <p MadCap:conditions="Primary:java,Primary.All languages" />
            <p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Team.cs/Team.cs.flsnp" />
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Pilot.cs/Pilot.cs.flsnp" />
            </p>
            <p MadCap:conditions="Primary:cs" />
        </p>
        <p>
            <p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Team.vb/Team.vb.flsnp" />
                <MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/Pilot.vb/Pilot.vb.flsnp" />
            </p>
            <p MadCap:conditions="Primary:vb" />
        </p>
        <p>Store and retrieve.  <p MadCap:conditions="Primary.Java"><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.java/storeCollection.flsnp" /><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.java/testCollectionActivation.flsnp" /></p><p MadCap:conditions="Primary:java,Primary.All languages" /><p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages"><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.cs/StoreCollection.flsnp" /><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.cs/TestCollectionActivation.flsnp" /></p><p MadCap:conditions="Primary:cs" /><p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages"><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.vb/StoreCollection.flsnp" /><MadCap:snippetBlock src="../../../Resources/Snippets/Collection Example/TAExample.vb/TestCollectionActivation.flsnp" /></p><p MadCap:conditions="Primary:vb" /></p>
        <p MadCap:conditions="Primary.Online">Download example code:</p>
        <p MadCap:conditions="Primary.Online">
            <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages"><a href="taexamplesvb.zip">VB.NET </a>
            </MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages"><a href="taexamplescs.zip">c# </a>
            </MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Primary.Java"><a href="taexamplesjava.zip">Java </a>
            </MadCap:conditionalText>
        </p>
    </body>
</html>