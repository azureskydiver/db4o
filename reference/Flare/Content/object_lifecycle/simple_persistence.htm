<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="4207" MadCap:lastWidth="776" MadCap:ignoredWords="RandomAccessFileAdapter;randomAccessFileAdapter;NonFlushingIoAdapter;nonFlushingIoAdapter;CachedIoAdapter;cachedIoAdapter;disableCommitRecovery;DisableCommitRecovery;extObjectContainer;setSemaphore;getName;SetSemaphore;typeof;LOCK_;getID;GetID;getPilot;getSignature;idenity;car1;car2;car3;UUID;defragment;startsWith;getPoints;StartsWith;ExtentType;oql;AllPilots;OQLQuery;persistenceManager;newQuery;IList;IComparer;ObjectSet;IObjectSet;comparer;ExtObjectContainer;IExtObjectContainer;VB;pilot1;name1;name2;peekPersisted;isCached;JDO;WeakReferences;VM;ClientConfiguration;IClientConfiguration;BatchMessages;NO_OF_OBJECTS;maxBatchQueueSize;MaxBatchQueueSize;listResult;MessageRecipient;ObjectServer;openServer;ObjectNotStorableException;s;clientserverJava;ServerConfiguration;clientserverCS;cs;clientserverVB;vb;config;databaseFileName;int;NativeSocketFactory;socketFactory;OpenClient;hostName;IObjectServer;OpenServer;IConfiguration;INativeSocketFactory;IObjectContainer;genkey;SSLcert;storepass;SecureSocketFactory;IMessageSender;setMessageRecipient;SetMessageRecipient;IMessageRecipient;processMessage;ProcessMessage;ByVal;UpdateServer;waitMilliSeconds;releaseSemaphore;ReleaseSemaphore;monitorObject;semaphoreName;switchToFile;fileName;SwitchToFile;switchToMainFile;SwitchToMainFile;switchs;isAlive;IsAlive;replicateDeletions;ReplicateDeletions;GetType;g;ReplicationEvent;VersionNumbers;providerA;objectsChangedSinceLastReplication;ProviderA;ObjectsChangedSinceLastReplication;hbm;ProviderSignature;MySignature;PeerSignature;ReplicationProvider;HibernateReplicationProvider;ReplicationProviders;m;typed_id;pi2763;longPart;ObjectReference;className;typedId;Uuid;uuid;drs_providers;is_my_sig;t';f';drs_history;provider_id;PK;drs_objects;class_name;varchar;one_to_one;ReplicationConfigurator;SessionFactory;sessionFactory;buildSessionFactory;openSession;beginTransaction;createCriteria;AbstractDb4oTestCase;Db4oFixture;_fixture;AbstractSoloDb4oFixture;AbstractClientServerDb4oFixture;IDb4oFixture;IQuery;NewQuery;retrieveOnlyInstance;RetrieveOnlyInstance;countOccurences;CountOccurences;foreach;Visitor4;Foreach;IVisitor4;obj;deleteAll;DeleteAll;ReflectClass;reflectClass;indexField;fieldName;IndexField;Config;setUp;SetUp;db4oSetupBeforeStore;db4oSetupAfterStore;Db4oSetupBeforeStore;Db4oSetupAfterStore;runSoloAndClientServer;RunSoloAndClientServer;runSolo;RunSolo;runClientServer;RunClientServer;CodeBlock;Db4oUnit;ICodeBlock;isTrue;msg;IsTrue;bool;Msg;areEqual;AreEqual;FrameworkTestCase;runTestAndExpect;expFailures;RunTestAndExpect;ITest;GetConfig;storedType;runtimeType;tAlias;resolveRuntimeName;resolveStoredName;storedPattern;runtimePattern;aliasing;QueryStarted;QueryFinished;QueryEventArgs;ObjectEventArgs;CancellableObjectEventArgs;CommitEventArgs;client2;client1;WaitForCompletion;args;AddHandler;forObjectContainer;ForObjectContainer;OnCreated;createdEvent;onEvent;Event4;ABC0001DEF;MustInherit;CountedObject;IncrementedId;queryStarted;queryFinished;QueryStats;q;executionTime;activationCount;storedClass;Foo;classname;storedClasses;StoredClasses;getStoredFields;GetStoredFields;storedField;getParentStoredClass;GetParentStoredClass;reflectWith;Db4oFactory;ReflectWith;self_get;self_set;LoggingReflector;IoAdapter;MyEncryptionAdapter;Io;Db4oEnhancerMSBuildTask;SensorPanel;GetOptions;UsingTask;AssemblyFile;OutputPath;TaskName;ItemGroup;Db4oEnhance;TargetPath;AfterBuild;AbstractAssemblyInstrumentation;IAssemblyInstrumentation;TAInstrumentation;tp;EnhancementExample;tacustom;Db4oPersistent;typedef;classTargetDir;jarTargetDir;MaintenanceQueue;'Barrichello';'BMW';useIndexSystem;useRamSystem;discardSmallerThan;DiscardSmallerThan;allObjects;SumPilotPoints;SelectMinPointsPilot;AveragePilotPoints;CountSubGroups;SelectPilotsAndTrainees;SelectPilotsInRange;SelectAndChangePilots;SelectTestPilots6PointsMore;SelectPilots6To12Points;SelectPilotsRandom;SelectPilotsEven;SelectAnyOnePilot;SelectDistinctPilots;SelectAllPilots;SelectAllPilotsNonGeneric;GetSortedPilots;GetPilotsSortByNameAndPoints;GetPilotsSortWithComparator;SelectPilot5Points;SelectTestPilots;SelectPilotsNumberX6;newPackage;newClass;objectField;oldField;newField;newAssembly;ObjectField;aaplication">
    <head><title>Simple Persistence	<link href="../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="../Resources/Code/prettify.js"></script></title>
    </head>
    <body onload="prettyPrint()">
        <h1>Simple Persistence<MadCap:keyword term="Object Container" /><MadCap:keyword term="Persistence" /><MadCap:keyword term="Embedded" /></h1>
        <p>db4o makes your work with persistent objects very simple and 
straightforward. The only <MadCap:snippetText src="../Resources/Snippets/Store.flsnp" />(object) method is used for both saving and 
modification of any object that exists in your model.</p>
        <p MadCap:conditions="Primary.Java,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.java/storePilot.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.java/updatePilotWrong.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.java/updatePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:java" />
        <p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.cs/StorePilot.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.cs/UpdatePilotWrong.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.cs/UpdatePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:cs" />
        <p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.vb/StorePilot.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.vb/UpdatePilotWrong.flsnp" />
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.vb/UpdatePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:vb" />
        <p>Deletion is just as easy:</p>
        <p MadCap:conditions="Primary.Java,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.java/deletePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:java" />
        <p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.cs/DeletePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:cs" />
        <p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
            <MadCap:snippetBlock src="../Resources/Snippets/Simple Persistence/QueryExample.vb/DeletePilot.flsnp" />
        </p>
        <p MadCap:conditions="Primary:vb" />
        <p>The objects are identified by their references in an application cache. You do not need to implement any additional identification systems (like primary keys 
in RDBMS). See <a href="../basic_concepts/object_identity.htm">Identity chapter</a> for 
details. The uniqueness of an object is defined only by its reference, if you 
will create 2 objects of the same class with exactly the same fields and save 
them to db4o - you will get 2 objects in your database. As you can see from the 
examples an object instance should be retrieved from the database 
before updating or deleting or you can use the newly created object if it was 
stored in the same session. Creating a new instance identical to the object in the 
database and saving it, will create a new object in the database.</p>
        <p>Db4o does 
all the "dirty" work of objects transition between your classes and 
persistent state using <a href="../implementation_strategies/db4o_reflection_api.htm">Reflection</a> . No 
mappings or additional coding is needed from your side. If you will need to 
change your application model for the next version you will also be surprised 
with the simplicity: all the changes are done in one place - your code, and the 
most common operations are done completely automatically (see <a href="../implementation_strategies/refactoring_and_schema_evolution.htm">Refactoring 
And Schema Evolution</a> chapter for details).</p>
        <p>Please, remember that all db4o work is done within <a href="../basic_concepts/transaction.htm">Transaction</a>, which can be committed or rolled back depending on the result you want to achieve. </p>
        <p MadCap:conditions="Primary.Online">Download example code:</p>
        <p MadCap:conditions="Primary.Online">
            <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages"><a href="queriesvb.zip">VB.NET </a>
            </MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages"><a href="queriescs.zip">c# </a>
            </MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Primary.Java"><a href="queriesjava.zip">Java </a>
            </MadCap:conditionalText>
        </p>
    </body>
</html>