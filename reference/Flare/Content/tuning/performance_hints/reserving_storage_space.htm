<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="9" MadCap:lastHeight="1227" MadCap:lastWidth="1148">
    <head><title>Reserving Storage Space	<link href="../../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="../../Resources/Code/prettify.js"></script></title>
    </head>
    <body onload="prettyPrint()">
                <h1>Reserving Storage Space</h1>
                <p MadCap:conditions="Primary.Java">
                    <p>Java: </p>
                    <p><code>configuration.reserveStorageSpace(byteCount)</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:java" />
                <p MadCap:conditions="Primary.Print">
                    <p>.NET: </p>
                    <p><code>configuration.ReserveStorageSpace(byteCount)</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:net" /><a name="Advantage"></a>
                <h2>Advantage</h2>
                <p>The allocation of a fixed number of bytes at
one time makes it more likely that the database will be stored in one chunk
on the mass storage. Less read/write head movement can result in improved
performance.</p><a name="Effect"></a>
                <h2>Effect</h2>
                <p>ReserveStorageSpace setting reserves an
additional space (byteCount) in a database file.</p>
                <p>The functionality of this setting depends on
the context:</p>
                <ul>
                    <li>global context:
new database files will be created with an additional amount of bytes reserved;</li>
                    <li>ObjectContainer
context: each call to reserveStorageSpace will allocate an extra space in the
database file.</li>
                </ul>
                <p>Note: Allocated space will be lost on abnormal
termination of the database engine (hardware crash, VM crash). A Defragment run
will recover the lost space. For the best possible performance, this method
should be called before the Defragment run to configure the allocation of
storage space to be slightly greater than the anticipated database file size.</p><a name="Alternate Strategies"></a>
                <h2>Alternate Strategies</h2>
                <p>An alternative strategy can be to use MemoryStorage:</p>
                <p MadCap:conditions="Primary.Java">
                    <p>Java: </p>
                    <p><code>MemoryIoAdapter
adapter = new MemoryIoAdapter();</code>
                    </p>
                    <p><code>configuration.io(adapter);</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:java" />
                <p MadCap:conditions="Primary.Print">
                    <p>.NET: </p>
                    <p><code>MemoryIoAdapter
adapter = new MemoryIoAdapter();</code>
                    </p>
                    <p><code>configuration.Io(adapter);</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:net" />
                <p>You can control the
growth of the memory file by:</p>
                <p MadCap:conditions="Primary.Java">
                    <p>Java: </p>
                    <p><code>adapter.growBy(100);</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:java" />
                <p MadCap:conditions="Primary.Print">
                    <p>.NET: </p>
                    <p><code>adapter.GrowBy(100);</code>
                    </p>
                </p>
                <p MadCap:conditions="Primary:net" />
                <p>And you can control
the size of the file on disk using RandomAccessFile API. For more information
see <a href="../../implementation_strategies/storage/memory_storage.htm"  >MemoryStorage</a>.</p>
       
    </body>
</html>