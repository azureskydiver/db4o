<?xml version="1.0" encoding="utf-8"?><html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="2958" MadCap:lastWidth="1029">
<head><title>Commit Frequency	<link href="../../../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" />		<script type="text/javascript" src="../../../Resources/Code/prettify.js"></script></title></head>
<body onload="prettyPrint()">
     
       
        <h1>Commit Frequency</h1>

<p>Commit is an expensive operation as it needs to physically
access hard drive several times and write changes. However, only commit can
ensure that the objects are actually stored in the database and won't be lost.</p>

<p>The following test compares different commit frequencies
(one commit for all objects or several commits after a specified amount of
objects). The test runs against a hard drive:</p>

<p MadCap:conditions="Primary.Java">

<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.java/runCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.java/configureForCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.java/initForCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.java/store.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.java/storeWithCommit.flsnp" />
<p>Note, that you can get an OutOfMemory exception when running
the part of the test with a single commit. To fix this use -Xmx500m setting for
your Java machine.</p>

</p><p MadCap:conditions="Primary:java,Primary.All languages" />

<p MadCap:conditions="Primary..NET">

<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.cs/RunCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.cs/ConfigureForCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.cs/InitForCommitTest.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.cs/Store.flsnp" />
<MadCap:snippetBlock src="../../../Resources/Snippets/Commit Frequency/InsertPerformanceBenchmark.cs/StoreWithCommit.flsnp" />
</p><p MadCap:conditions="Primary:net" />

<p>The following results were achieved for the
<a href="../insert_performance.htm"  >testing configuration</a>:</p>

<p MadCap:conditions="Primary.Java">

<p>Java:</p>

<p>Storing objects as a bulk:</p>

<p>Store 300000 objects: 11974ms</p>

<p>Storing objects with commit after each 10000 objects:</p>

<p>Store 300000 objects: 14692ms</p>

</p><p MadCap:conditions="Primary:java,Primary.All languages" />

<p MadCap:conditions="Primary..NET">

<p>.NET:</p>

<p>Storing objects as a bulk:</p>

<p>Store 300000 objects: 17748ms</p>

<p>Storing objects with commit after each 10000 objects:</p>

<p>Store 300000 objects: 18163ms</p>

</p><p MadCap:conditions="Primary:net" /> 
     


        <p MadCap:conditions="Primary.Online">Download example code:</p>
        <p MadCap:conditions="Primary.Online">
            <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages"><a href="../performancecs.zip">c# </a>
            </MadCap:conditionalText>
            <MadCap:conditionalText MadCap:conditions="Primary.Java"><a href="../performancejava.zip">Java </a>
            </MadCap:conditionalText>
        </p>


    
</body></html>