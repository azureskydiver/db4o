<?xml version="1.0" encoding="utf-8"?><html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="2958" MadCap:lastWidth="1029">
<head><title>Pluggable IO Concept	<link href="../../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" />		<script type="text/javascript" src="../../Resources/Code/prettify.js"></script></title></head>
<body onload="prettyPrint()">
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Pluggable IO Concept</h1>


<p>Db4o input/output implementation comes as a pluggable module. It means that you can write your own IO system based on IoAdapter class.</p>

<p>Pluggable IO Adapter has control over the following:</p>

<ul>
<li>place and method of storing a database file;</li>

<li>the form of the stored file (plain, encrypted);</li>

<li>additional actions that are taken at read,write,close,open events.</li>
</ul>

<p>
Some of the popular implementations of IoAdapter:</p>

<ul>
<li>encryption IoAdapter: database stream is encrypted-decrypted upon read-write operations;</li>

<li>native IoAdapter: uses native system API for file access (WinAPI for example);</li>

<li>memory IoAdapter: keeps database in RAM instead of hard drive;</li>

<li>IoAdapter using several physical locations to store a database;</li>

<li>debug IoAdapter: outputs various debugging information to the specified output stream.</li>
</ul>

<p>
You can look at the db4o source to see some of these implementations (search for classes inheriting from IoAdapter).</p>

<p>By default db4o uses RandomAccessFileAdapter. You can install another IoAdapter with a single call:</p>

<p MadCap:conditions="Primary.Java">

<p>Java: <code>Db4o.configure().io(new SpecificIoAdapter())</code></p>

</p><p MadCap:conditions="Primary:java" />

<p MadCap:conditions="Primary..NET,Primary.c#">

<p>c#:   <code>Db4o.Configure().Io(new SpecificIoAdapter())</code></p>

</p><p MadCap:conditions="Primary:cs" />

<p MadCap:conditions="Primary..NET,Primary.VB.NET">

<p>VB:   <code>Db4o.Configure().Io(new SpecificIoAdapter())</code></p>

</p><p MadCap:conditions="Primary:vb" />

<p>Please, note: this call should be issued before opening of a database file. IoAdapter can be changed only while the database is closed.</p>

<p>For a test, let's try to create debugging IoAdapter, which will log all the information about its actions to the output stream:</p>

<p MadCap:conditions="Primary.Java">

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/LoggingAdapter.java/LoggingAdapter.java.flsnp" />
</p><p MadCap:conditions="Primary:java" />

<p MadCap:conditions="Primary..NET,Primary.c#">

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/LoggingAdapter.cs/LoggingAdapter.cs.flsnp" />
</p><p MadCap:conditions="Primary:cs" />

<p MadCap:conditions="Primary..NET,Primary.VB.NET">

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/LoggingAdapter.vb/LoggingAdapter.vb.flsnp" />
</p><p MadCap:conditions="Primary:vb" />

<p>Now let's test how it works:</p>

<p MadCap:conditions="Primary.Java">

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/IOExample.java/testLoggingAdapter.flsnp" />
</p><p MadCap:conditions="Primary:java" />

<p MadCap:conditions="Primary..NET,Primary.c#">

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/IOExample.cs/TestLoggingAdapter.flsnp" />
</p><p MadCap:conditions="Primary:cs" />

<p><p MadCap:conditions="Primary..NET,Primary.VB.NET"></p>

<MadCap:snippetBlock src="../../Resources/Snippets/Pluggable IO Concept/IOExample.vb/TestLoggingAdapter.flsnp" />
<p></p><p MadCap:conditions="Primary:vb" /> </p>

<p>The output can be used for debugging purposes.
</p></div>
    </div>
    
  <p>Download example code:</p>        <p></p></body></html>