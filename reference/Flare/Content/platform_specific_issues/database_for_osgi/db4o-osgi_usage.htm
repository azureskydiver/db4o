<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="9" MadCap:lastHeight="515" MadCap:lastWidth="1017">
    <head><title>Db4o-Osgi Usage	<link href="../../Resources/Stylesheets/prettify.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="../../Resources/Code/prettify.js"></script></title>
    </head>
    <body onload="prettyPrint()">
        <div class="CommonContent">
            <div class="CommonContentArea">
                <h1>Db4o-Osgi Usage</h1>
                <div id="TOC">&#160;</div>
                <P>db4o-osgi service can be accessed like any other OSGI service:</P>
                <P><code>ServiceReference serviceRef = _context.getServiceReference(Db4oService.class.getName());</code>
                </P>
                <P><code>Db4oService db4oService = (Db4oService)_context.getService(serviceRef);</code>
                </P>
                <P>db4o-osgi uses Bundle-ActivationPolicy:lazy header to define the lazy bundle loading policy (only utilized in some environments, like Eclipse).</P>
                <P>Db4oService instance can be used as Db4o class in usual environment:</P>
                <P><code>Configuration config = db4oService.newConfiguration();</code>
                </P>
                <P><code>ObjectContainer db = db4oService.openFile(config, filename);</code>
                </P>
                <P>Also available are methods for opening db4o server and client. For more information see the API documentation.</P>
                <P>Once the service instance is obtained, you can continue to work with db4o API as usual.</P><a name="Installation in Eclipse"></a>
                <H2>Installation in Eclipse</H2>
                <OL>
                    <LI>Put the db4o osgi jar file on eclipse/plugins folder</LI>
                    <LI>Start/restart Eclipse</LI>
                    <LI>While on Eclipse switch from the "Package Explorer" tab to the "Plug-ins" tab</LI>
                    <LI>Find the db4o bundle (should be listed there), right click on it and select "Import As" -&gt; "Source Project"</LI>
                </OL>
            </div>
        </div>
    </body>
</html>