<?xml version="1.0" encoding="utf-8"?> <html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="2" MadCap:lastHeight="309" MadCap:lastWidth="1029">    <head>    </head>    <body>        <pre class="prettyprint" xml:space="preserve">RemoteExample.java: updateCars
private static void updateCars() ...{
    // triggering mass updates with a singleton
    // complete server-side execution
    Configuration configuration = Db4o.newConfiguration();
    configuration.messageLevel(0);
    ObjectServer server = Db4o.openServer(configuration, DB4O_FILE_NAME, 0);
    try ...{
      ObjectContainer client = server.openClient();
      Query q = client.query();
      q.constrain(RemoteExample.class);
      q.constrain(new Evaluation() ...{
        public void evaluate(Candidate candidate) ...{
          // evaluate method is executed on the server
          // use it to run update code
          ObjectContainer objectContainer = candidate
              .objectContainer();
          Query q2 = objectContainer.query();
          q2.constrain(Car.class);
          ObjectSet objectSet = q2.execute();
          while (objectSet.hasNext()) ...{
            Car car = (Car) objectSet.next();
            car.setModel(&quot;Update1-&quot; + car.getModel());
            objectContainer.set(car);
          }
          objectContainer.commit();
        }
      });
      q.execute();
      client.close();
    } finally ...{
      server.close();
    }
    checkCars();
  }</pre>    </body></html>