<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Custom Query Comparator</title>
    <link rel="stylesheet" type="text/css" href="../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Custom Query Comparator</h1><p>Db4o allows using a custom comparator for query processing.
This can be useful for replacing the standard way of selecting query results,
for example, when a non-standard attribute type should be compared as string or
integer</p>

<p>The usage is best shown on an example. </p>

<p>Let's create a custom class containing string information:</p>







<p>MyString class will be used for an attribute in the
following class:</p>







<p>Let's save some Record objects to the database:</p>







<p>Selecting the query results, we need to compare string
values contained in MyString objects. This can be configured with the following
setting:</p>





<p>This piece of code registers an attribute provider for
special query behavior. </p>

<p>The query processor will compare the
object returned by the attribute provider instead of the actual object, both
for the constraint and the candidate persistent object.</p>

<p>The querying code will look like this:</p>









<p>Using query comparator feature we can change the standard
way of selecting query results. This can be helpful for:</p>

<ul><li>querying user types using simple string or numeric
representation</li><li>encapsulating additional logic into querying algorithm.</li></ul>





</div>
    </div>
    <div id="footer">
					This revision (4) was last Modified 2007-05-07T09:44:16 by Tetyana.
				</div>
  </body>
</html>