<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>SODA Query API</title>
    <link rel="stylesheet" type="text/css" href="../../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>SODA Query API</h1><div id="TOC"><div id="TOCinner"><span class="TOCtitle">Contents</span><div class="TOCcontents"><ul><li><a href ="#Not">Not</a></li><li><a href ="#And&nbsp;">And&nbsp;</a></li><li><a href ="#Or&nbsp;">Or&nbsp;</a></li><li><a href ="#Greater, Smaller, Equal &lt;&gt;=">Greater, Smaller, Equal &lt;&gt;=</a></li><li><a href ="#Using Default Values&nbsp;">Using Default Values&nbsp;</a></li><li><a href ="#String Comparisons">String Comparisons</a><ul><li><a href ="#Like&nbsp;">Like&nbsp;</a></li><li><a href ="#startsWith, endsWith&nbsp;">startsWith, endsWith&nbsp;</a></li><li><a href ="#Case Insensitive Queries">Case Insensitive Queries</a></li></ul></li><li><a href ="#Contains&nbsp;">Contains&nbsp;</a></li><li><a href ="#Identity Comparison&nbsp;">Identity Comparison&nbsp;</a></li><li><a href ="#Sorting Results&nbsp;">Sorting Results&nbsp;</a></li><li><a href ="#Joining Constraints">Joining Constraints</a></li></ul></li></ul></div></div></div><p>There are occasions when we don't want to query for exact field values, 
but rather for value ranges, objects not containing given member values, etc. 
This functionality is provided by the Constraint API.</p>
<a name="Not"></a><h3>Not<br></h3>

<p>First, let's negate 
a query to find all pilots who are not Michael Schumacher:</p>






<a name="And&nbsp;"></a><h3>And&nbsp;</h3>

<p>Where there is negation, the other boolean operators can't be too far. </p>






<a name="Or&nbsp;"></a><h3>Or&nbsp;</h3>








<a name="Greater, Smaller, Equal &lt;&gt;="></a><h3>Greater, Smaller, Equal &lt;&gt;=</h3>

<p>We can also constrain to a comparison with a given value.</p>
<p>Return pilots with more than 99 points:</p>








<p>Return pilots with 99 or more points:</p>









<a name="Using Default Values&nbsp;"></a><h3>Using Default Values&nbsp;</h3>

<p>The query API also allows to query for field default values. </p>








<a name="String Comparisons"></a><h3>String Comparisons</h3><a name="Like&nbsp;"></a><h4>Like&nbsp;</h4>
<p>This is an equivalent to SQL "like" operator:</p>







<a name="startsWith, endsWith&nbsp;"></a><h4>startsWith, endsWith&nbsp;</h4>
<p>Compares a beginning or ending of a string:</p>








<a name="Case Insensitive Queries"></a><h4>Case Insensitive Queries</h4><p>By default all string querying
functions use case-sensitive comparison. <code>startsWith</code> and
<code>endsWith</code> allow to switch between comparison modes using a
parameter. However, if you need a case-insensitive comparison for
<code>like</code> , <code>equals</code> or <code>contains</code>
queries, it is recommended to use <a href="../native_queries.htm" class="wikiLink">Native Queries</a> as SODA does
not provide such an option.<br></p>
<a name="Contains&nbsp;"></a><h3>Contains&nbsp;</h3>
<p>Allows to retrieve objects constraining by included value (collection). If applied to a string will behave as "Like".</p>







<a name="Identity Comparison&nbsp;"></a><h3>Identity Comparison&nbsp;</h3>
<p>db4o database identity can also be used as a constraint. In this
case only objects with the same database instance will be retrieved:</p>











<a name="Sorting Results&nbsp;"></a><h3>Sorting Results&nbsp;</h3>

<p>It is also possible to have db4o sort the results.</p>







<a name="Joining Constraints"></a><h3>Joining Constraints</h3><p>In some situations you need a way to arbitrarily join constraints, for example:</p><p>(a and b) or (c and d)&nbsp;</p><p>In this case you will just need to add new constraints to the root constraint and join them in advance using Constraint syntax:</p>





<p>All these techniques can be combined arbitrarily, of course. Please try it out. 
There still may be cases left where the predefined query API constraints may not 
be sufficient - don't worry, you can always let db4o run any arbitrary code that 
you provide in an Evaluation. Evaluations will be discussed in a <a href="../soda_evaluations.htm" class="wikiLink">Evaluations chapter</a>.<br></p></div>
    </div>
    <div id="footer">
					This revision (8) was last Modified 2008-04-29T17:07:30 by Tetyana.
				</div>
  </body>
</html>