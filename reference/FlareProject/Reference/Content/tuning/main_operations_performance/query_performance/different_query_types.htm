<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Different Query Types</title>
    <link rel="stylesheet" type="text/css" href="../../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Different Query Types</h1>

<p>db4o provides different query syntaxes: Query By Example,
SODA, Native Queries and LINQ (for .NET 3.5 and higher). &nbsp;Under the hood all these syntaxes are
converted to SODA. The conversion can be very straightforward (as in case of
QBE), or pretty sophisticated (some Native queries). The fact that conversion
takes place and can be more or less complex affects the performance of queries
expressed with different syntax. Another factor affecting the performance can
be using unoptimized Native Queries: this can happen if the query is too
complex to analyze or when optimization is disabled through configuration.
Optimization is also applicable to LINQ queries, i.e. some of LINQ queries are
currently too complex to analyze and optimize. In cases when optimization does
not happen, the query is run against all instances of an object in the database,
which is quite slow and consumes a lot of RAM.</p>





<p>The following results were obtained on a test machine:</p>

<p><i>Storing objects as a
bulk:</i></p>

<p><i>Store 30000 objects:
5337 ms</i></p>

<p><i>Query by example:</i></p>

<p><i>Select 1 object QBE:
level1/1: 1021 ms</i></p>

<p><i>SODA:</i></p>

<p><i>Select 1 object SODA:
level1/1: 809 ms</i></p>

<p><i>LINQ:</i></p>

<p><i>Select 1 object LINQ:
level1/1: 915 ms</i></p>

<p><i>Native Query:</i></p>

<p><i>Select 1 object NQ:
level1/1: 1604 ms</i></p>

<p><i>Native Query Unoptimized:</i></p>

<p><i>Select 1 object NQ:
level1/1: 5008 ms</i></p>

<p>You can see that SODA query shows the best performance. The
other query types are less performant due to conversion, however they can be
easier to support and refactor. The worst performance is shown in the case of
unoptimized Native Query: in this case all the objects from the database were
instantiated and tested against the constraint.</p></div>
    </div>
    <div id="footer">
					This revision (1) was last Modified 2008-06-08T15:45:25 by Tetyana.
				</div>
  </body>
</html>