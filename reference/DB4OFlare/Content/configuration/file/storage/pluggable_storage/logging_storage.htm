<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="4435" MadCap:lastWidth="586">
  <head />
  <body>
    <h1>Logging Storage</h1>
    <p>In this example we will implement a simple file base
storage, which will log messages about each IO operation. In the implementation
you can see that most of the functionality is derived from StorageDecorator and
BinDecorator classes with additional logging added:</p>
    <p MadCap:conditions="Primary.Java,Primary.All languages">
      <MadCap:snippetBlock src="../../../../Resources/Snippets/Logging Storage/LoggingStorage.java/LoggingStorage.java.flsnp" />
    </p>
    <p MadCap:conditions="Global.Primary:java" />
    <p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
      <MadCap:snippetBlock src="../../../../Resources/Snippets/Logging Storage/LoggingStorage.cs/LoggingStorage.cs.flsnp" />
    </p>
    <p MadCap:conditions="Global.Primary:cs" />
    <p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
      <MadCap:snippetBlock src="../../../../Resources/Snippets/Logging Storage/LoggingStorage.vb/LoggingStorage.vb.flsnp" />
    </p>
    <p MadCap:conditions="Global.Primary:vb" />
    <p>Use the LoggingStorage implementation with the following
code (you can find a working example if you download LoggingStorage class).</p>
    <p MadCap:conditions="Primary.Java,Primary.All languages">
      <p>Java:</p>
      <p>
        <code>config.file().storage(new LoggingStorage());</code>
      </p>
    </p>
    <p MadCap:conditions="Global.Primary:java" />
    <p MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
      <p>C#:</p>
      <p>
        <code>config.File.Storage(new LoggingStorage());</code>
      </p>
    </p>
    <p MadCap:conditions="Global.Primary:cs" />
    <p MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
      <p>VB.NET:</p>
      <p>
        <code>config.File.Storage(New LoggingStorage())</code>
      </p>
    </p>
    <p MadCap:conditions="Global.Primary:vb" />
    <p MadCap:conditions="Primary.Online">Download example code:</p>
    <p MadCap:conditions="Primary.Online">
      <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.VB.NET,Primary.All languages">
        <a href="storagevb.zip">VB.NET </a>
      </MadCap:conditionalText>
      <MadCap:conditionalText MadCap:conditions="Primary..NET,Primary.c#,Primary.All languages">
        <a href="storagecs.zip">c# </a>
      </MadCap:conditionalText>
      <MadCap:conditionalText MadCap:conditions="Primary.Java">
        <a href="storagejava.zip">Java </a>
      </MadCap:conditionalText>
    </p>
  </body>
</html>