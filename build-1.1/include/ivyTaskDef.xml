<project name="ivyTaskDef" default=""  xmlns:ivy="antlib:fr.jayasoft.ivy.ant">
	<path id="ivy.lib.path">
  	<fileset dir="${common.build.dir}/lib" includes="*.jar"/>
  </path>
  <taskdef resource="fr/jayasoft/ivy/ant/antlib.xml" uri="antlib:fr.jayasoft.ivy.ant" classpathref="ivy.lib.path"/>
  
  <macrodef name="publishToIvy" description="">		
		<sequential>
			<delete file="${defaultArtifactDir}/ivy.xml"/>
			<ivy:publish 
				artifactspattern="${artifactsPattern}" 
				pubrevision="${db4o.version.dotted}" 
				resolver="projects"				
				status="release"
			/>
		</sequential>
	</macrodef>
	
	<macrodef name="cleanIvyDir" description="">
		<sequential>
			<delete dir="${tempDir}" failonerror="false"/>
			<delete dir="${tempDir}" failonerror="true"/>
		</sequential>
	</macrodef>
	
	<macrodef name="initIvyDir" description="">
		<sequential>
			<mkdir dir="${defaultArtifactDir}" />
		</sequential>
	</macrodef>
</project>