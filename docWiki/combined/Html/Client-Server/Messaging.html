<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Messaging</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Messaging</h1><p>&nbsp;</p><p>In client/server mode the TCP connection between the client&nbsp;and the server can also be used to send messages from the&nbsp;client to the server.<br><br>Possible usecases could be:<br>- shutting down and restarting the server<br>- triggering server backup<br>- using a customized login strategy to restrict the number&nbsp;of allowed client connections<br><br>Here is some example code how this can be done.<br><br>First we need to decide on a class that we want to use as the&nbsp;message. Any object that is storable in db4o can be used as&nbsp;a message, but strings and other simple types will not be&nbsp;carried (as they are not storable in db4o on their own). Let's&nbsp;create a dedicated class:</p> <br></p><p>Now we have to add some code to the server to react to arriving&nbsp;messages. This can be done by configuring a MessageRecipient&nbsp;object on the server. Let's simply print out all objects&nbsp;that arrive as messages. For the following we assume that we already&nbsp;have an ObjectServer object, opened with <a href="Embedded_Server.html" class="wikiLink">Db4o.openServer()</a>.</p> <br></p><p>The MessageSender object on the client can be reused to send&nbsp;multiple messages.<br><br></p></div>
    </div>
    <div id="footer">
					This revision (5) was last Modified 2006-11-12T13:09:06 by Tetyana.
				</div>
  </body>
</html>