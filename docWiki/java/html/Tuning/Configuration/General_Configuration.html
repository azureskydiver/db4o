<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>General Configuration</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>General Configuration</h1>
<p>
</p>

<p>Db4o configuration resides in com.db4o.config
package/Db4object.Db4o.Config namespace. </p>

<p>Below is a short description of all general configuration
methods. For client/server specific settings see <a href="ClientServer_Configuration.html" class="wikiLink">ClientServer Configuration</a>
interface. For class and field specific configuration see <a href="ObjectClass_Configuration.html" class="wikiLink">ObjectClass Configuration</a> and
<a href="ObjectField_Configuration.html" class="wikiLink">ObjectField Configuration</a> interface.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void activationDepth(int depth);</code></p>

<p></span>



<p>sets the activation depth to the specified value.
</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void classActivationDepthConfigurable(boolean
flag);</code></p>

<p></span>



<p>turns maximumActivationDepth setting of ObjectClass/IObjectClass
configuration on and off.</p>

<p>This feature is turned on by default.</p>


<p>For more information on the activation depth see
<a href="../Db4o_Concepts/Activation.html" class="wikiLink notExist">Activation</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> topic.</p>

<p><br></p>

<span class="java"></p>

<p>Java: </p>

<p><code>public void addAlias(Alias alias);</code></p>

<p><code>public void removeAlias(Alias alias);</code></p>

<p></span>



<p>these methods, as the names suggest, add or remove aliases.
Aliases should be configured before opening a database file or connecting to a
server. For more information on aliases please check
<a href="../Advanced_Type_Handling/Aliases.html" class="wikiLink notExist">Aliases</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java: <br></p>

<p><code>public void allowVersionUpdates(boolean flag);</code></p>

<p></span>



<p>Turns automatic database file format version updates on. For
more information see <a href="Maintenance/Updating_Db4o_File_Format.html" class="wikiLink notExist">Updating_db4o_File_Format</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void automaticShutDown(boolean flag);</code></p>

<p>turns automatic shutdown of the engine on and off.</p>

<p>Depending on the JDK, db4o uses one of the following two
methods to shut down, if no more references to the ObjectContainer are being
held or the JVM terminates:</p>

<ul>
<li>JDK 1.3 and above: </li>

<p><code>Runtime.addShutdownHook()</code></p>

<li>JDK 1.2 and below: <br></li>

<code>System.runFinalizersOnExit(true)</code>
and code in the finalizer</ul>

<p>Some JVMs have severe problems with both methods. For these
rare cases the autoShutDown feature may be turned off.</p>


<p>The default and recommended setting is <code>true</code>.</p>

<p></span>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void blockSize(int bytes);</code></p>

<p></span>



<p>sets the storage data blocksize for new ObjectContainers.
For more information read
<a href="Performance_Tuning/Increasing_The_Maximum_Database_File_Size.html" class="wikiLink notExist">Increasing_The_Maximum_Database_File_Size</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void bTreeNodeSize(int size);</code></p>

<p></span>



<p>configures the size of BTree nodes in indexes. </p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void bTreeCacheHeight(int height);</code></p>

<p></span>



<p>configures caching of BTree nodes.</p>

<p>For more information see
<a href="Performance_Tuning/B-Tree_Tuning.html" class="wikiLink notExist">B-Tree_Tuning</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void callbacks(boolean flag);</code></p>

<p></span>



<p>turns <a href="../Advanced_Db4o_Techniques/Callbacks.html" class="wikiLink notExist">object
callbacks</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> on and off. <a href="Performance_Tuning/No_Callbacks.html" class="wikiLink notExist">No_Callbacks</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> article explains
how this setting can be useful for tuning.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void callConstructors(boolean flag);</code></p>

<p></span>



<p>advises db4o to try instantiating objects with/without
calling constructors.</p>

<p>Not all JDKs / .NET-environments support this feature. db4o
will attempt, to follow the setting as good as the enviroment supports. In
doing so, it may call implementation-specific features like</p>

<p>sun.reflect.ReflectionFactory#newConstructorForSerialization
on the Sun Java 1.4.x/5 VM (not available on other VMs) and&nbsp; FormatterServices.GetUninitializedObject()
on the .NET framework (not available on CompactFramework).</p>

<p>This setting may also be overridden for individual classes
in ObjectClass#callConstructor(boolean).</p>


<p>The default setting depends on the features supported by
your current environment.</p>

<p>For more information see
<a href="../Db4o_Concepts/Object_Construction.html" class="wikiLink notExist">Object_Construction</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void detectSchemaChanges(boolean flag);</code></p>

<p></span>



<p>tuning feature: configures whether db4o checks all
persistent classes upon system startup for added or removed fields. For more
information see <a href="Performance_Tuning/No_Schema_Changes.html" class="wikiLink notExist">No_Schema_Changes</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public DiagnosticConfiguration diagnostic();</code></p>

<p></span>



<p>returns the configuration interface for diagnostics. See
<a href="Diagnostics.html" class="wikiLink notExist">Diagnostics</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> for more information.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void disableCommitRecovery();</code></p>

<p></span>



<p>turns commit recovery off.</p>

<p>db4o uses a two-phase commit algorithm. In a first step all
intended changes are written to a free place in the database file, the
"transaction commit record". In a second step the actual changes are
performed. If the system breaks down during commit, the commit process is
restarted when the database file is opened the next time. On very rare
occasions (possibilities: hardware failure or editing the database file with an
external tool) the transaction commit record may be broken. In this case, this
method can be used to try to open the database file without commit recovery.
The method should only be used in emergency situations after consulting db4o
support. </p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void flushFileBuffers(boolean flag);</code></p>

<p></span>



<p>configures file buffers to be flushed during transaction
commits. For more information see <a href="Performance_Tuning/FlushFileBuffers.html" class="wikiLink notExist">FlushFileBuffers</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void discardFreeSpace(int byteCount);</code></p>

<p></span>



<p>tuning feature: configures the minimum size of free space
slots in the database file that are to be reused. For more information see
<a href="Performance_Tuning/Discarding_Free_Space.html" class="wikiLink notExist">Discarding_Free_Space</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void encrypt(boolean flag);</code></p>

<p></span>



<p>configures the use of <a href="../Advanced_Db4o_Techniques/Encryption/Built-In_Simple_Encryption.html" class="wikiLink notExist">encryption</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.
This method is deprecated, please use:</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>Db4o.configure().io(new
XTeaEncryptionFileAdapter(password)) </code></p>

<p></span>



<p>or any of the other XTeaEncryptionFileAdapter constructors.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void exceptionsOnNotStorable(boolean
flag);</code></p>

<p></span>



<p>configures whether Exceptions are to be thrown, if objects
can not be stored. For more information see
<a href="Debugging_Db4o/ExceptionsOnNotStorable.html" class="wikiLink notExist">ExceptionsOnNotStorable</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>. The default for this setting is
false.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public FreespaceConfiguration freespace();</code></p>

<p></span>



<p>returns the
<a href="../Db4o_Concepts/Freespace_Management_System.html" class="wikiLink notExist">freespace</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> configuration
interface.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void generateUUIDs(int setting);</code></p>

<p></span>



<p>configures db4o to generate UUIDs for stored objects.</p>



<p>setting parameter can have one of the following values:</p>

<ul>
<li>1 - off</li>

<li>1 - configure classes individually</li>

<li>Integer.MAX_VALUE/Itn32.MaxValue - on for all classes</li>
</ul>


<p>This method is deprecated. Use the next method instead.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void generateUUIDs(ConfigScope)</code></p>

<p></span>



<p>configures db4o to generate UUIDs for stored objects. For
more information see
<a href="../Db4o_Concepts/IDs_And_UUIDs/Unique_Universal_IDs.html" class="wikiLink notExist">Unique_Universal_IDs</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void generateVersionNumbers(int
setting);</code></p>

<p></span>



<p>configures db4o to generate version numbers for stored
objects. This method is deprecated. Use the next method instead.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void generateVersionNumbers(ConfigScope
setting);</code></p>

<p></span>



<p>configures db4o to generate version numbers for stored
objects. Version numbers are used for <a href="../Db4o_Replication_System_DRS.html" class="wikiLink notExist">db4o_Replication_System_DRS</a><sup class="notExist" title="This topic does not yet exist.">create it</sup></p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void internStrings(boolean doIntern);</code></p>

<p></span>



<p>Configures db4o to call intern() on strings upon retrieval.
For more information see Java/.NET documentation for string class.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void io(IoAdapter adapter);</code></p>

<p></span>



<p>allows to configure db4o to use a customized byte IO
adapter. <a href="../Advanced_Db4o_Techniques/IO_Adapter.html" class="wikiLink notExist">IO_Adapter</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> topic discusses how to
use a pluggable IO-adapter and how to create you own IO-adapter.</p>

<p><br></p>




<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void messageLevel(int level);</code></p>

<p></span>



<p>Sets the detail level of db4o messages (from1 to 3). For
more information see <a href="Debugging_Db4o.html" class="wikiLink notExist">Debugging_db4o</a><sup class="notExist" title="This topic does not yet exist.">create it</sup></p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void lockDatabaseFile(boolean flag);</code></p>

<p></span>



<p>can be used to turn the database file locking thread off.
This tuning setting makes sense with java version 1.4 and higher. For more
information see <a href="Performance_Tuning/No_Lock_File_Thread.html" class="wikiLink notExist">No_lock_file_thread</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public ObjectClass objectClass(Object clazz);</code></p>

<p></span>



<p>returns an ObjectClass/IObjectClass to
configure the specified class.</p>

<p>The clazz parameter can be any of the following:</p>

<ul>
<li>a fully qualified classname as a string.</li>

<li>a Class/Type object.</li>

<li>any other object to be used as a template.</li>
</ul>


<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void optimizeNativeQueries(boolean
optimizeNQ);</code></p>

<p></span>



<p>If set to true, db4o will try to optimize native queries
dynamically at query execution time, otherwise it will run native queries in
unoptimized mode as SODA evaluations. For more information see
<a href="Native_Query_Optimization.html" class="wikiLink notExist">Native_Query_Optimization</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public boolean optimizeNativeQueries();</code></p>

<p></span>



<p>returns true if native queries will be optimized
dynamically. For more information see <a href="Native_Query_Optimization.html" class="wikiLink notExist">Native_Query_Optimization</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void password(String pass);</code></p>

<p></span>



<p>protects the database file with a password when
<a href="../Advanced_Db4o_Techniques/Encryption/Built-In_Simple_Encryption.html" class="wikiLink notExist">simple
encryption</a><sup class="notExist" title="This topic does not yet exist.">create it</sup> is used. This method is deprecated . Please use:</p>


<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>Db4o.configure().io(new
XTeaEncryptionFileAdapter(password))</code></p>

<p></span>



<p>or any of the other XTeaEncryptionFileAdapter constructors.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public QueryConfiguration queries();</code></p>

<p></span>



<p>returns the Query configuration interface. For more
information see <a href="../Db4o_Concepts/Query_Modes.html" class="wikiLink notExist">Query_Modes</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void readOnly(boolean flag);</code></p>

<p></span>



<p>turns readOnly mode on and off.</p>

<p>Readonly mode allows opening an unlimited number of reading
processes on one database file. It can be convenient when deploying db4o
database files on CD-ROM.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void reflectWith(Reflector reflector);</code></p>

<p></span>



<p>Configures the use of a specially designed reflection
implementation.</p>

<p>On platforms that do not support reflection, customized
reflection implementations may be written to enable db4o. For more information
see <a href="../Advanced_Type_Handling/Db4o_Reflection_API.html" class="wikiLink notExist">Db4o_Reflection_API</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>


<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void refreshClasses();</code></p>

<p></span>



<p>forces analysis of all Classes during a running session.</p>



<p>This method may be useful in combination with a modified
ClassLoader and allows exchanging classes during a running db4o session.</p>

<p>Calling this method on the global Configuration context will
refresh the classes in all db4o sessions in the running VM. Calling this method
in an ObjectContainer Configuration context, only the classes of the respective
ObjectContainer will be refreshed.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void reserveStorageSpace(long
byteCount);</code></p>

<p></span>



<p>tuning feature only: reserves a number of bytes on creation
of a database file.</p>

<p>An allocation of a fixed number of bytes at one time makes
it more likely that the database will be stored in one chunk on the mass
storage. Less read/write head movement can result in improved performance</p>

<p>Note: Allocated space will be lost on abnormal termination
of the database engine (hardware crash, VM crash). A Defragment run will
recover the lost space. For the best possible performance, this method should
be called before the Defragment run to configure the allocation of storage
space to be slightly greater than the anticipated database file size.</p>

<p>The default configuration: 0.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void setBlobPath(String path) throws
IOException;</code></p>

<p></span>



<p>configures the path to be used to store and read Blob data.
For more information see <a href="../Advanced_Type_Handling/Blobs.html" class="wikiLink notExist">Blobs</a><sup class="notExist" title="This topic does not yet exist.">create it</sup></p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void setClassLoader(Object classLoader);</code></p>

<p></span>



<p>configures db4o to use a custom ClassLoader. This method is
deprecated, use instead:</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>reflectWith(new JdkReflector(classLoader)) </code></p>

<p></span>



<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void setOut(PrintStream outStream);</code></p>

<p></span>



<p>Assigns a stream to print db4o event messages.</p>

<p>For more information see
<a href="Debugging_Db4o/Customizing_The_Debug_Message_Output.html" class="wikiLink notExist">Customizing_The_Debug_Message_Output</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>&nbsp;&nbsp;&nbsp; </p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void testConstructors(boolean flag);</code></p>

<p></span> </p>

 </p>

<p>tuning feature: configures whether db4o should try to
instantiate one instance of each persistent class on system startup. For more
information see <a href="Performance_Tuning/No_Test_Instances.html" class="wikiLink notExist">No_test_instances</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>&nbsp;&nbsp;&nbsp; </p>


<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void unicode(boolean flag);</code></p>

<p></span>



<p>configures the storage format of Strings.</p>

<p>This method needs to be called before a database file is
created. db4o database files keep their string format after creation.</p>

<p>Turning Unicode support off reduces the file storage space
for strings by factor 2 and improves performance.</p>

<p>The default setting: <code>true</code></p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void updateDepth(int depth);</code></p>

<p></span>



<p>specifies the global updateDepth. For more information see
<a href="../Db4o_Concepts/Update_Depth.html" class="wikiLink notExist">Update_Depth</a><sup class="notExist" title="This topic does not yet exist.">create it</sup></p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void weakReferences(boolean flag);</code></p>

<p></span>



<p>turns weak reference management on or off. For more
information see <a href="Performance_Tuning/Turning_Off_Weak_References.html" class="wikiLink notExist">Turning_Off_Weak_References</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>.</p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p><code>public void weakReferenceCollectionInterval(int
milliseconds);</code></p>

<p></span>



<p>configures the timer for WeakReference collection.</p>

<p>The default setting is 1000 milliseconds.</p>

<p>Configure this setting to zero to turn WeakReference
collection off. For more information see <a href="../Db4o_Concepts/Object_Identity/Weak_References.html" class="wikiLink notExist">Weak_References</a><sup class="notExist" title="This topic does not yet exist.">create it</sup>&nbsp;&nbsp;&nbsp; </p>

<p><br></p>

<span class="java"></p>

<p>Java:</p>

<p>public ClientServerConfiguration clientServer();</p>

<p></span>



<p>returns an interface for client/server specific
configuration.</p>


</div>
    </div>
    <div id="footer">
					This revision (12) was last Modified 2007-03-02T14:00:34 by Tetyana.
				</div>
  </body>
</html>