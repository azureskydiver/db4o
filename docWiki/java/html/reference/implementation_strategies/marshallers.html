<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Marshallers</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Marshallers</h1><p>Db4o marshaller implementation uses
reflection to detect class fields.&nbsp; This
approach is universal, but reflection usage imposes a certain performance
penalty. In some cases you may want to improve the performance using custom
marshallers through a plug-in interface:</p>

<span name="cs_wiki_filter" csw_filters="java"><p>Java:&nbsp;</p>

<p><code>Db4o.configure().objectClass(YourClass.class).marshallWith(yourMarshaller);</code></p>

</span>

<p>Custom marshaller provides a functionality to convert object fields to a byte array and back. This approach allows to achieve a better performance due to the following:</p><ul><li>reflection is not used to detect object fields;</li><li>only the required fields need to be marshalled.<br></li></ul><p>However there are certain limitations:</p><ul><li>custom marshaller is not compatible with the use of a translator;</li><li>quering for fields is not possible when a custom marshaller is used.&nbsp;</li></ul>

<p>Custom marshallers should implement
an ObjectMarshaller interface:</p>

<span name="cs_wiki_filter" csw_filters="java"><p>Java:&nbsp;</p>

<p><code> public class CustomMarshaller
implements ObjectMarshaller</code></p>

</span>


<p>To simplify the task of creating
custom marshallers db4o provides a <a href="https://source.db4o.com/db4o/trunk/db4oj/core/src/com/db4o/foundation/PrimitiveCodec.java">PrimitiveCodec</a> class,
which implements write and read functions for int and long values.</p><p><div class="childTopicList">More Reading:<ul>
<li><p><a href="marshallers/custom_marshaller_implementation.html" class="wikiLink">Custom Marshaller Implementation</a></p></li>
<li><p><a href="marshallers/custom_marshaller_usage.html" class="wikiLink">Custom Marshaller Usage</a></p></li>
</ul></div>
</p>

</div>
    </div>
    <div id="footer">
					This revision (7) was last Modified 2007-03-02T17:39:23 by Tetyana.
				</div>
  </body>
</html>