<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Cache Configuration Example</title>
    <link rel="stylesheet" type="text/css" href="../../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Cache Configuration Example</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>

<p>The following example helps to see the effect of cache
by modifying the cache size. Note, that this example is not a good illustration
of the LRU cache algorithm, and only shows the effect of simple caching of the
most recent data.</p>

<p>For the test we will use the following 2 classes:
Item and ItemStore, holding a collection of items:</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">Item</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> Item</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_25_216_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">int</span><span style="color: #000000;"> id;
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    String name;
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> Item(</span><span style="color: #0000FF;">int</span><span style="color: #000000;"> id, String name)</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_89_132_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">this</span><span style="color: #000000;">.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> id;
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">this</span><span style="color: #000000;">.name </span><span style="color: #000000;">=</span><span style="color: #000000;"> name;
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> String toString()</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_Item_412_68_162_213_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> String.format(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">%s {%d}</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">, name, id);
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">ItemStore</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ItemStore</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_30_193_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ArrayList</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> items;
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> ItemStore()</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_80_124_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">this</span><span style="color: #000000;">.items </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ArrayList</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">();
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> addItem(Item item)</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_ItemStore_484_73_160_190_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">this</span><span style="color: #000000;">.items.add(item);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>The following methods will be used to fill in and
query the database:</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">createDatabase</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> createDatabase(EmbeddedConfiguration config) </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_65_681_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">long</span><span style="color: #000000;"> startTime </span><span style="color: #000000;">=</span><span style="color: #000000;"> System.currentTimeMillis();
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oEmbedded.openFile(config, DB4O_FILE_NAME);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_235_525_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ItemStore itemStore </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ItemStore();
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">for</span><span style="color: #000000;"> (</span><span style="color: #0000FF;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> OBJECT_COUNT; i</span><span style="color: #000000;">++</span><span style="color: #000000;">) </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_321_376_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        itemStore.addItem(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Item(i, </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">title</span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> i));
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.store(itemStore);
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Item item  </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Item) container.queryByExample(
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Item(</span><span style="color: #000000;">1</span><span style="color: #000000;">, </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">title1</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">)).get(</span><span style="color: #000000;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(item);
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_CreateDatabase_712_78_534_561_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    System.out.println(String.format(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Time to create a database: %d ms</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">,
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.currentTimeMillis() </span><span style="color: #000000;">-</span><span style="color: #000000;"> startTime));
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">queryDatabase</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> queryDatabase(EmbeddedConfiguration config) </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_64_872_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oEmbedded
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        .openFile(config, DB4O_FILE_NAME);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_155_833_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ArrayList</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> temp </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ArrayList</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">();
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">long</span><span style="color: #000000;"> startTime </span><span style="color: #000000;">=</span><span style="color: #000000;"> System.currentTimeMillis();
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Query q </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      q.constrain(Item.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      q.descend(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">id</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">).constrain(</span><span style="color: #000000;">1</span><span style="color: #000000;">).greater();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectSet </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> result </span><span style="color: #000000;">=</span><span style="color: #000000;"> q.execute();
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">for</span><span style="color: #000000;"> (Item i: result)</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_422_445_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        temp.add(i);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(String.format(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Time to get an objects first time: %d ms</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">,
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          System.currentTimeMillis() </span><span style="color: #000000;">-</span><span style="color: #000000;"> startTime));
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #008000;">//
</span><span style="color: #008080;">18</span><span style="color: #008000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">      temp </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ArrayList</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Item</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">();
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      startTime </span><span style="color: #000000;">=</span><span style="color: #000000;"> System.currentTimeMillis();
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">for</span><span style="color: #000000;"> (Item i: result)</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_678_701_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        temp.add(i);
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(String.format(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Time to get an objects second time: %d ms</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">,
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          System.currentTimeMillis() </span><span style="color: #000000;">-</span><span style="color: #000000;"> startTime));
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_QueryDatabase_794_77_842_869_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>In general you should see the benefits of using
cache with the majority of db4o operations. However, the effect is most obvious
when a large amount of database information should be accessed fast (query) and
this information is not loaded in the applications hash memory. We are trying
to reproduce this situation in the second method querying database. If the
amount of items in the ItemStore collection is 10000, the database size will be
around 900 KB. With the default cache size, i.e. page count multiplied by page
size (64 * 1024), this will mean that the whole collection won't fit into the
cache (It can still fit into your hash memory, so you may want to decrease the
available hash memory or increase the size of the collection to see the effect.).
</p>

<p>We will use the following configuration methods to
compare the default cache allocation and the custom one:</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">getConfig</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> EmbeddedConfiguration getConfig() </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetConfig_1844_73_49_223_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    EmbeddedConfiguration config </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oEmbedded.newConfiguration();
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    config.file().storage(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> CachingStorage(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> FileStorage(), PAGE_COUNT, PAGE_SIZE));
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> config;
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">CachingStorageExample.java: <span class="fscMemberName">getDefaultConfig</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Open_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Closed_Image" src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> EmbeddedConfiguration getDefaultConfig() </span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesStorageCachingStorageCache_Configuration_ExampleCachingStorageJava.ZipsCachingStorageExample.Java_CachingStorageExample.Java_GetDefaultConfig_1921_80_56_143_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    EmbeddedConfiguration config </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oEmbedded.newConfiguration();
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> config;
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img src="../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>Using custom page count = 1024 will make the cache
size enough to fit the whole collection, and you should see some performance
improvement browsing the retrieved collection second time (Unless it all fits
into your hash memory in any case). Please, also try decreasing page size and
count to see the opposite effect.</p></div>
    </div>
    <div id="footer">
					This revision (3) was last Modified 2009-05-03T09:53:54 by Tetyana.
				</div>
  </body>
</html>