<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Updating Structured Objects</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Updating Structured Objects</h1><div id="TOC"><div id="TOCinner"><span class="TOCtitle">Contents</span><div class="TOCcontents"><ul><li><a href ="#Update Depth">Update Depth</a></li></ul></li></ul></div></div></div><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>

<p>To update structured objects in db4o, you simply call set() on them again.</p>

<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updateCar</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updateCar(ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_57_483_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_117_207_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_152_203_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Car found </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Car) result.next();
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    found.setPilot(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Somebody else</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">, </span><span style="color: #000000;">0</span><span style="color: #000000;">));
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    container.set(found);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Open_Text').style.display='inline';"/>    result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_366_456_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdateCar_116_65_401_452_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    listResult(result);
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>

 </p>



<p>Let's modify the pilot, too.</p>

<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSingleSession</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updatePilotSingleSession(
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Open_Text').style.display='inline';"/>      ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_76_486_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_136_226_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_171_222_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Car found </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Car) result.next();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    found.getPilot().addPoints(</span><span style="color: #000000;">1</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    container.set(found);
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Open_Text').style.display='inline';"/>    result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_369_459_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSingleSession_278_80_404_455_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    listResult(result);
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>

 </p>



<p>Nice and easy, isn't it? But there is something that is not obvious in this example. Let's see what happens if we split this task in two separate db4o sessions: In the first we modify our pilot and update his car:</p>

<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSeparateSessionsPart1</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updatePilotSeparateSessionsPart1(
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Open_Text').style.display='inline';"/>      ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_84_331_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_144_234_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart1_640_88_179_230_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Car found </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Car) result.next();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    found.getPilot().addPoints(</span><span style="color: #000000;">1</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    container.set(found);
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>

 </p>



<p>And in the second, we'll double-check our modification:</p>

<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSeparateSessionsPart2</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updatePilotSeparateSessionsPart2(
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Open_Text').style.display='inline';"/>      ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_84_261_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_144_234_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsPart2_852_88_179_230_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">6</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">7</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">8</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    listResult(result);
</span><span style="color: #008080;">9</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>

 </p>



<p>If you will execute this code you will see that Pilot's points are not changed&nbsp;What's happening here and what can we do to fix it?</p>
<a name="Update Depth"></a><h2>Update Depth</h2>
<p>Imagine a complex object with many members that have many members themselves.&nbsp;When updating this object, db4o would have to update all its children,&nbsp;grandchildren, etc. This poses a severe performance penalty and will&nbsp;not be necessary in most cases - sometimes, however, it will.<br><br>So, in our previous update example, we were modifying the Pilot child of a Car&nbsp;object. When we saved the change, we told db4o to save our Car object and assumed&nbsp;that the modified Pilot would be updated. But we were modifying and saving in the&nbsp;same manner as we were in the first update sample, so why did it work before? The&nbsp;first time we made the modification, db4o never actually had to retreive the modified&nbsp;Pilot&nbsp;it returned the same one that was still in memory that we modified, but&nbsp;it never actually updated the database. Restarting the application would show that the value was unchanged.<br><br>To be able to handle this dilemma as flexible as possible, db4o introduces&nbsp;the concept of update depth to control how deep an object's member tree will&nbsp;be traversed on update. The default update depth for all objects is 0, meaning&nbsp;that only primitive and String members will be updated, but changes in object&nbsp;members will not be reflected.<br><br>db4o provides means to control update depth with very fine granularity.&nbsp;For our current problem we'll advise db4o to update the full graph for&nbsp;Car objects by setting cascadeOnUpdate() for this class accordingly.<br><br><span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSeparateSessionsImprovedPart1</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> Configuration updatePilotSeparateSessionsImprovedPart1() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart1_2705_96_72_241_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Configuration configuration </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.newConfiguration();
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    configuration.objectClass(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">com.db4o.f1.chapter2.Car</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        .cascadeOnUpdate(</span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> configuration;
</span><span style="color: #008080;">6</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>

 </p>



<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSeparateSessionsImprovedPart2</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updatePilotSeparateSessionsImprovedPart2(
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Open_Text').style.display='inline';"/>      ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_92_339_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_152_242_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart2_2859_96_187_238_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Car found </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Car) result.next();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    found.getPilot().addPoints(</span><span style="color: #000000;">1</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    container.set(found);
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span>&nbsp; </p>

 </p>



<span class="java"></p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">StructuredExample.java: <span class="fscMemberName">updatePilotSeparateSessionsImprovedPart3</span></span></div><div class="fscCode"><pre ID="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> updatePilotSeparateSessionsImprovedPart3(
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Open_Text').style.display='inline';"/>      ObjectContainer container) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_92_269_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Open_Text').style.display='inline';"/>    ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">() </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_152_242_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Open_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Closed_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Closed_Text').style.display='inline';"/><img id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Closed_Text').style.display='none'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Open_Image').style.display='inline'; document.getElementById('StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(Car car) </span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="StructuredJava.ZipsStructuredExample.Java_StructuredExample.Java_UpdatePilotSeparateSessionsImprovedPart3_3024_96_187_238_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> car.getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ferrari</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">6</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">7</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">8</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    listResult(result);
</span><span style="color: #008080;">9</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span> </p>

 </p>



<p>You can also achieve expected results using:</p>

<ol>
<li>ExtObjectContainer#set(object, depth) to update exact amount of referenced fields</li>

<li>Use configuration.objectClass(clazz).updateDepth(depth) setting to define sufficient update depth for a specific object</li>

<li>Use global setting for all the persisted objects:</li>
</ol>

<span class="java"></p>

<p>Java: </p><p><code>configuration.updateDepth(depth);</code></p>

<p></span>

 </p>



<p>However global updateDepth is not flexible enough for real-world objects having different depth of reference structures. </p><p>ATTENTION: Setting global update depth to the maximum value will result in serious performance penalty. Please, use this setting ONLY for debug purposes.<br></p>

<p>Note that container configuration must be set before the container is opened and/or passed to the <code>openFile/openClient/openServer</code> method.</p></div>
    </div>
    <div id="footer">
					This revision (9) was last Modified 2007-04-23T06:59:02 by Tetyana.
				</div>
  </body>
</html>