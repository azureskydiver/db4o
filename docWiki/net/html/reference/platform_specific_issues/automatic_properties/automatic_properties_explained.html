<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Automatic Properties Explained</title>
    <link rel="stylesheet" type="text/css" href="../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Automatic Properties Explained</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>
<p>What
happens with automatic fields under the hood? Well, if we look into the
bytecode produced, we will see that the default private fields are actually
inserted by the compiler and used to keep the properties data. &nbsp;In .NET 3.5 Microsoft version of the compiler
this automatic fields usually get a name like: &lt;Name&gt;k__BackingField,
where "Name" is the name of the property.</p>

<p>Keeping this information in mind we can still produce a
valid SODA query and even add indexes:</p><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">PropertiesExample.cs: <span class="fscMemberName">TestSODA</span></span></div><div class="fscCode"><pre ID="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> TestSODA()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Open_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Closed_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Closed_Text').style.display='inline';"/><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Closed_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Open_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Open_Text').style.display='inline';"/>        </span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_39_889_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            IConfiguration configuration </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.NewConfiguration();
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            configuration.ObjectClass(</span><span style="color: #0000FF;">typeof</span><span style="color: #000000;">(Car)).ObjectField(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Pilot</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">).Indexed(</span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            configuration.ObjectClass(</span><span style="color: #0000FF;">typeof</span><span style="color: #000000;">(Pilot)).ObjectField(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Points</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">).Indexed(</span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            configuration.Diagnostic().AddListener(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> DiagnosticToConsole());
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            IObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(configuration, Db4oFileName);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">try</span><span style="color: #000000;">
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Open_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Closed_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Closed_Text').style.display='inline';"/><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Closed_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Open_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Open_Text').style.display='inline';"/>             </span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_486_803_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                IQuery query </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.Query();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                query.Constrain(</span><span style="color: #0000FF;">typeof</span><span style="color: #000000;">(Car));
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                query.Descend(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Pilot</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">).Descend(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Points</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">).Constrain(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">99</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                IObjectSet  result </span><span style="color: #000000;">=</span><span style="color: #000000;"> query.Execute();
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Test SODA</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                ListResult(result);
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>            }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">finally</span><span style="color: #000000;">
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Open_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Closed_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Closed_Text').style.display='inline';"/><img id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Closed_Text').style.display='none'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Open_Image').style.display='inline'; document.getElementById('..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Open_Text').style.display='inline';"/>            </span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..AutoPropertiesCS.ZipsPropertiesExample.Cs_PropertiesExample.Cs_TestSODA_505_67_836_879_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Close();
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>            }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>        }</span></span></div></pre></div></div><p>You can run
this code and check that it works correctly. However, it is not recommended to
stick to this hack, as the compiler generated field names are not guaranteed to
keep the name as produced in this example. Please, treat this example as an
illustration only.</p>


&nbsp;</div>
    </div>
    <div id="footer">
					This revision (2) was last Modified 2008-11-26T10:32:36 by Tetyana.
				</div>
  </body>
</html>