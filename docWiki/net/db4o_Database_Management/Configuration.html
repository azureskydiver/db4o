<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Configuration</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Configuration</h1><p>&nbsp;</p><p>db4o provides a wide range of configuration methods to request&nbsp;special behaviour. For a complete list of all available methods&nbsp;see the API documentation for the com.db4o.config package/namespace.<br>
<br>
The following paragraphs contain some useful hints around using configuration calls.</p>
<div class="CommonTitle"><span>Scope</span></div><span>Configuration calls can be issued to a global VM-wide configuration&nbsp;context with<br>
</span><span>
<p><span class="java">Java: Db4o.configure()</span></p><br>
<p><span class="net">.NET: Db4oFactory.Configure()</span></p><br>
and to an open ObjectContainer/ObjectServer with <br>

<p><span class="java">Java:<br>objectContainer.ext().configure() <br>
objectServer.ext().configure()</span></p><br>
<p><span class="net">.NET:<br>objectContainer.Ext().Configure() <br>
objectServer.Ext().Configure()</span></p><br>
When an ObjectContainer/ObjectServer is opened, the global&nbsp;configuration context is cloned and copied into the newly opened&nbsp;ObjectContainer/ObjectServer. Subsequent calls against the global&nbsp;context with Db4o.configure() have no effect on open&nbsp;ObjectContainers/ObjectServers.
<div class="CommonTitle"><span>Calling Methods</span></div><div class="CommonContent"><span>Many configuration methods have to be called before an&nbsp;ObjectContainer/ObjectServer is opened and will be ignored&nbsp;if they are called against open ObjectContainers/ObjectServers.&nbsp;Some examples:</span></div><div class="CommonContent">C<span><span>onfiguration conf = Db4o.configure();<br>
<span class="java">Java: <br>
conf.objectClass(Foo.class).objectField("bar").indexed(true);<br>
conf.objectClass(Foo.class).cascadeOnUpdate();<br>
conf.objectClass(Foo.class).cascadeOnDelete();<br>
conf.objectClass(System.Drawing.Image.class).translate(new TSerializable());<br>
conf.generateUUIDs(Integer.MAX_VALUE);<br>
conf.generateVersionNumbers(Integer.MAX_VALUE);<br>
conf.automaticShutDown(false);<br>
conf.lockDatabaseFile(false);<br>
conf.singleThreadedClient(true);<br>
conf.weakReferences(false);</span></span></div><div class="CommonContent"><span><div class="CommonContent">
</span>
<span class="net">.NET: <br>
conf.ObjectClass(typeof(Foo)).ObjectField("bar").Indexed(true);<br>
conf.ObjectClass(typeof(Foo)).CascadeOnUpdate();<br>
conf.ObjectClass(typeof(Foo)).CascadeOnDelete();<br>
conf.ObjectClass(typeof(System.Drawing.Image)).Translate(new TSerializable());<br>
conf.GenerateUUIDs(Int32.MaxValue);<br>
conf.GenerateVersionNumbers(Int32.MaxValue);<br>
conf.AutomaticShutDown(false);<br>
conf.LockDatabaseFile(false);<br>
conf.SingleThreadedClient(true);<br>
conf.WeakReferences(false);
</span>
&lt;br /&gt;</div><div class="CommonContent">Configurations that influence the database file format will have to take place, before a database is created, before the first #openXXX() call. Some examples:</div>
<span class="java">Java: <br>
Configuration conf = Db4o.configure();<br>
conf.blockSize(8);<br>
conf.unicode(false); </span><br>

<span class="net">.NET: <br>
Configuration conf = Db4oFactory.Configure();<br>
conf.BlockSize(8);<br>
conf.Unicode(false); </span><br>

Configuration settings are <b>not</b>&nbsp;stored in db4o database files.&nbsp;Accordingly all configuration methods have to be called&nbsp;<b>every time</b>&nbsp;before an ObjectContainer/ObjectServer is opened.&nbsp;For using db4o in client/server mode it is recommended to use the&nbsp;same global configuration on the server and on the client. To&nbsp;set this up nicely it makes sense to create one application class&nbsp;with one method that does all the db4o configuration and to deploy&nbsp;this class both to the server and to all clients.</span></div><div class="CommonContent"><div class="CommonTitle"><span>Further reading</span></div><div class="CommonContent"><span>Some configuration switches are discussed in more detail in the following&nbsp;chapters:<br>
-<span class="wikiLink"><font color="#555555"><a href="Performance_Tuning/Performance_Tuning.html" class="wikiLink">Performance Tuning</a></font></span><br>
-<a href="Indexing.html" class="wikiLink">Indexing</a><br>
-</span><a href="../Advanced_db4o_Techniques/Encryption/Encryption.html" class="wikiLink">Encryption</a> </div><br>
</div></span><style>
.java{display:none;}
</style>
</div>
    </div>
    <div id="footer">
					This revision (11) was last Modified 2006-11-12T14:29:53 by Tetyana.
				</div>
  </body>
</html>