<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>MemoryIoAdapter</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>MemoryIoAdapter</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>
<p>&nbsp;</p>
<p>One of the built-in db4o IoAdapters is MemoryIoAdapter. This adapter keeps the whole database&nbsp;in RAM instead of a hard-drive. Obviously such in-memory database has both advantages&nbsp;and disadvantages:<br />
Pros:<br />
- it is a lot faster, as no disc access is necessary.<br />
Cons:<br />
- it only works, if the database fits into RAM;<br />
- all the data can be lost in case of a system failure.<br />
You can achieve the best results combining the usage of MemoryIoAdapter with the normal&nbsp;file adapter. Let's look, how MemoryIoAdapter should be used in your application.<br />
First of all MemoryIoAdapter should be configured. The API gives you control over memory&nbsp;consumption with</p>
<p><span class="java">Java: MemoryIoAdapter#growBy(length) </span><br /></p>
<p><span class="cs">c#:   MemoryIoAdapter#GrowBy(length) </span><br /></p>
<p><span class="vb">VB:   MemoryIoAdapter#GrowBy(length) </span><br /></p>
method. Length defines the amount of bytes in memory that should be allocated, when no&nbsp;more free slots are found within the allocated file. Large value (&gt;100,000) will assure the&nbsp;best performance; small value (100) will keep the memory consumption at the lowest level.&nbsp;The default setting is 10,000.<br />
MemoryIoAdaptor supplies methods to exchange data with the database from the filesystem.
<p><span class="java">Java: MemoryIoAdapter#put(filename, byte[]) </span><br /></p>
<p><span class="cs">c#:   MemoryIoAdapter#Put(filename, byte[]) </span><br /></p>
<p><span class="vb">VB:   MemoryIoAdapter#Put(String, byte()) </span><br /></p>
<p>This method allows you to put the contents of the stored database file (byte[]) into the memory&nbsp;database. <br />
The opposite method:</p>
<p><span class="java">Java: MemoryIoAdapter#get(filename) </span><br /></p>
<p><span class="cs">c#:   MemoryIoAdapter#Get(filename) </span><br /></p>
<p><span class="vb">VB:   MemoryIoAdapter#Get(filename) </span><br /></p>
<p>returns the updated byte[] array of the database in memory, which can be saved to disc as a&nbsp;normal database file.<br />
The filename can be used for all further access (#openFile, #openServer methods) like&nbsp;normal file name. Make sure that you close the database file on the disc after reading its contents&nbsp;into memory and writing it back.<br />
The configured adapter should be assigned as db4o IO system:</p>
<p><span class="java">Java: Db4o.configure().io(MemoryIoAdapter) </span><br /></p>
<p><span class="cs">c#:   Db4o.Configure().Io(MemoryIoAdapter) </span><br /></p>
<p><span class="vb">VB:   Db4o.Configure().Io(MemoryIoAdapter) </span><br /></p>
Let's create sample database on the disc:
<p><span class="java"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.java: <span class="fscMemberName">setObjects</span></span></div><div class="fscCode"><pre ID="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Open_Text').style.display='inline';"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> setObjects()</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_31_239_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(Util.YAPFILENAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(Util.YAPFILENAME);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_134_207_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Pilot pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Rubens Barrichello</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db.set(pilot);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_setObjects_2752_44_216_236_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db.close();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div></span></p>
<p><span class="java"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.cs: <span class="fscMemberName">SetObjects</span></span></div><div class="fscCode"><pre ID="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> SetObjects()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Open_Text').style.display='inline';"/>    </span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_34_255_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      File.Delete(YapFileName);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      IObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> 
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_136_212_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        Pilot pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Rubens Barrichello</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        db.Set(pilot);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> 
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_SetObjects_2831_40_229_251_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        db.Close();
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>    }</span></span></div></pre></div></div></span></p>
<p><span class="java"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.vb: <span class="fscMemberName">SetObjects</span></span></div><div class="fscCode"><pre ID="IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Open_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Closed_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Closed_Text').style.display='inline';"/><img id="IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Closed_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Open_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Open_Text').style.display='inline';"/><span style="color: #0000FF;">Public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Shared</span><span style="color: #000000;"> </span><span id="IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">Sub SetObjects()</span><span id="IosVBZipsIOExampleVb_IOExampleVb_SetObjects_2906_40_14_340_Open_Text"><span style="color: #0000FF;">Sub</span><span style="color: #000000;"> SetObjects()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            File.Delete(YapFileName)
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> db </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IObjectContainer </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName)
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> pilot </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> Pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> Pilot(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Rubens Barrichello</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Set(pilot)
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Finally</span><span style="color: #000000;">
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Close()
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">End</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>        </span><span style="color: #0000FF;">End Sub</span></span></div></pre></div></div></span> <br />
</p>
<p>Now we can read the database into the memory file and work in the memory using&nbsp;MemoryIoAdapter:</p>
<p><span class="java"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.java: <span class="fscMemberName">getObjectsInMem</span></span></div><div class="fscCode"><pre ID="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Open_Text').style.display='inline';"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> getObjectsInMem()</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_36_1251_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Setting up in-memory database</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    MemoryIoAdapter adapter </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> MemoryIoAdapter();
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_150_390_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      RandomAccessFile raf </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> RandomAccessFile(Util.YAPFILENAME,</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">r</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">); 
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      adapter.growBy(</span><span style="color: #000000;">100</span><span style="color: #000000;">);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">int</span><span style="color: #000000;"> len </span><span style="color: #000000;">=</span><span style="color: #000000;"> (</span><span style="color: #0000FF;">int</span><span style="color: #000000;">)raf.length();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] b </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[len];
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      raf.read(b,</span><span style="color: #000000;">0</span><span style="color: #000000;">,len);
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      adapter.put(Util.YAPFILENAME, b);
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      raf.close();
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (Exception ex)</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_411_472_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Exception: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.getMessage());
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Db4o.configure().io(adapter);
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(Util.YAPFILENAME);
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_570_839_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>       ObjectSet result</span><span style="color: #000000;">=</span><span style="color: #000000;">db.get(Pilot.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">);
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>       System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Read stored results through memory file</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>         listResult(result);
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>         Pilot pilotNew </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Michael Schumacher</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>         db.set(pilotNew);
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>         System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">New pilot added</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_848_868_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db.close();
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Writing the database back to disc</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] dbstream </span><span style="color: #000000;">=</span><span style="color: #000000;"> adapter.get(Util.YAPFILENAME);
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_985_1104_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      RandomAccessFile file </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> RandomAccessFile(Util.YAPFILENAME,</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">rw</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      file.write(dbstream);
</span><span style="color: #008080;">34</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      file.close();
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (IOException ioex) </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjectsInMem_3099_49_1130_1193_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Exception: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ioex.getMessage());
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Db4o.configure().io(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> RandomAccessFileAdapter());
</span><span style="color: #008080;">39</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div></span></p>
<p><span class="cs"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.cs: <span class="fscMemberName">GetObjectsInMem</span></span></div><div class="fscCode"><pre ID="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> GetObjectsInMem()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Open_Text').style.display='inline';"/>    </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_39_1328_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Setting up in-memory database</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      MemoryIoAdapter adapter </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> MemoryIoAdapter();
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> 
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_166_426_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        Sharpen.IO.RandomAccessFile raf </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile(YapFileName,</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">r</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">); 
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        adapter.GrowBy(</span><span style="color: #800080;">100</span><span style="color: #000000;">);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">int</span><span style="color: #000000;"> len </span><span style="color: #000000;">=</span><span style="color: #000000;"> (</span><span style="color: #0000FF;">int</span><span style="color: #000000;">)raf.Length();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] b </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[len];
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        raf.Read(b,</span><span style="color: #800080;">0</span><span style="color: #000000;">,len);
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        adapter.Put(YapFileName, b);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        raf.Close();
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (Exception ex)
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_455_519_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Exception: </span><span style="color: #800000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.Message);
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Db4oFactory.Configure().Io(adapter);
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      IObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName);
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> 
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_634_907_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        IObjectSet result</span><span style="color: #000000;">=</span><span style="color: #000000;">db.Get(</span><span style="color: #0000FF;">typeof</span><span style="color: #000000;">(Pilot));
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Read stored results through memory file</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        ListResult(result);
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        Pilot pilotNew </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Michael Schumacher</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        db.Set(pilotNew);
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">New pilot added</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> 
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_924_946_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">34</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        db.Close();
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Writing the database back to disc</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] dbstream </span><span style="color: #000000;">=</span><span style="color: #000000;"> adapter.Get(YapFileName);
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> 
</span><span style="color: #008080;">39</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1071_1224_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">40</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                Sharpen.IO.RandomAccessFile file </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile(YapFileName, </span><span style="color: #800000;">&quot;</span><span style="color: #800000;">rw</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">41</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        file.Write(dbstream);
</span><span style="color: #008080;">42</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        file.Close();
</span><span style="color: #008080;">43</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">44</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (IOException ioex) 
</span><span style="color: #008080;">45</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjectsInMem_3181_45_1258_1324_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">46</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Exception: </span><span style="color: #800000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ioex.Message);
</span><span style="color: #008080;">47</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">48</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>    }</span></span></div></pre></div></div></span></p>
<p><span class="vb"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.vb: <span class="fscMemberName">GetObjectsInMem</span></span></div><div class="fscCode"><pre ID="IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Open_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Closed_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Closed_Text').style.display='inline';"/><img id="IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Closed_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Open_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Open_Text').style.display='inline';"/><span style="color: #0000FF;">Public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Shared</span><span style="color: #000000;"> </span><span id="IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">Sub GetObjectsInMem()</span><span id="IosVBZipsIOExampleVb_IOExampleVb_GetObjectsInMem_3259_45_14_1709_Open_Text"><span style="color: #0000FF;">Sub</span><span style="color: #000000;"> GetObjectsInMem()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Setting up in-memory database</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> adapter </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> MemoryIoAdapter </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> MemoryIoAdapter()
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> raf </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile(YapFileName, </span><span style="color: #800000;">&quot;</span><span style="color: #800000;">r</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                adapter.GrowBy(</span><span style="color: #800080;">100</span><span style="color: #000000;">)
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> </span><span style="color: #0000FF;">len</span><span style="color: #000000;"> </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Integer</span><span style="color: #000000;"> </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">CType</span><span style="color: #000000;">(raf.Length(), </span><span style="color: #0000FF;">Integer</span><span style="color: #000000;">)
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> b() </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Byte</span><span style="color: #000000;"> </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Byte</span><span style="color: #000000;">(</span><span style="color: #0000FF;">len</span><span style="color: #000000;">) {}
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                raf.Read(b, </span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #0000FF;">len</span><span style="color: #000000;">)
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                adapter.Put(YapFileName, b)
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                raf.Close()
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Catch</span><span style="color: #000000;"> ex </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> Exception
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Exception: </span><span style="color: #800000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.Message)
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">End</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            Db4oFactory.Configure().Io(adapter)
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> db </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IObjectContainer </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName)
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> result </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IObjectSet </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.Get(</span><span style="color: #0000FF;">GetType</span><span style="color: #000000;">(Pilot))
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Read stored results through memory file</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                ListResult(result)
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> pilotNew </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> Pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> Pilot(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Michael Schumacher</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Set(pilotNew)
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">New pilot added</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Finally</span><span style="color: #000000;">
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Close()
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">End</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Writing the database back to disc</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> dbstream() </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Byte</span><span style="color: #000000;"> </span><span style="color: #000000;">=</span><span style="color: #000000;"> adapter.Get(YapFileName)
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> file </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">New</span><span style="color: #000000;"> Sharpen.IO.RandomAccessFile(YapFileName, </span><span style="color: #800000;">&quot;</span><span style="color: #800000;">rw</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                file.Write(dbstream)
</span><span style="color: #008080;">34</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                file.Close()
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Catch</span><span style="color: #000000;"> ioex </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IOException
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Exception: </span><span style="color: #800000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ioex.Message)
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">End</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>        </span><span style="color: #0000FF;">End Sub</span></span></div></pre></div></div></span> <br />
</p>
<p>Well, the changes are made and written to the disc. Let's check, if all the data are in place.&nbsp;We will need to switch back to the normal RandomAccessFileAdapter:</p>
<p><span class="java"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.java: <span class="fscMemberName">getObjects</span></span></div><div class="fscCode"><pre ID="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Open_Text').style.display='inline';"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> getObjects()</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_31_320_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Db4o.configure().io(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> RandomAccessFileAdapter());
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(Util.YAPFILENAME);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_149_288_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>       ObjectSet result</span><span style="color: #000000;">=</span><span style="color: #000000;">db.get(Pilot.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>       System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Read stored results through disc file</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>         listResult(result);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Open_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Closed_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Closed_Text').style.display='inline';"/><img id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Closed_Text').style.display='none'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Open_Image').style.display='inline'; document.getElementById('IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosJavaZipsIOExampleJava_IOExampleJava_getObjects_3523_44_297_317_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db.close();
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div></span></p>
<p><span class="cs"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.cs: <span class="fscMemberName">GetObjects</span></span></div><div class="fscCode"><pre ID="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/None.gif" align="top"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> GetObjects()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Open_Text').style.display='inline';"/>    </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_34_358_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Db4oFactory.Configure().Io(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> RandomAccessFileAdapter());
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      IObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> 
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_169_315_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        IObjectSet result</span><span style="color: #000000;">=</span><span style="color: #000000;">db.Get(</span><span style="color: #0000FF;">typeof</span><span style="color: #000000;">(Pilot));
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Read stored results through disc file</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        ListResult(result);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;"> 
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> 
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Open_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Closed_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Closed_Text').style.display='inline';"/><img id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Closed_Text').style.display='none'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Open_Image').style.display='inline'; document.getElementById('IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Open_Text').style.display='inline';"/>      </span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="IosCSZipsIOExampleCs_IOExampleCs_GetObjects_3600_40_332_354_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        db.Close();
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>    }</span></span></div></pre></div></div></span></p>
<p><span class="vb"><div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">IOExample.vb: <span class="fscMemberName">GetObjects</span></span></div><div class="fscCode"><pre ID="IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Open_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Closed_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Closed_Text').style.display='inline';"/><img id="IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Closed_Text').style.display='none'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Open_Image').style.display='inline'; document.getElementById('IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Open_Text').style.display='inline';"/><span style="color: #0000FF;">Public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Shared</span><span style="color: #000000;"> </span><span id="IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">Sub GetObjects()</span><span id="IosVBZipsIOExampleVb_IOExampleVb_GetObjects_3673_40_14_457_Open_Text"><span style="color: #0000FF;">Sub</span><span style="color: #000000;"> GetObjects()
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            Db4oFactory.Configure().Io(</span><span style="color: #0000FF;">New</span><span style="color: #000000;"> RandomAccessFileAdapter())
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> db </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IObjectContainer </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4oFactory.OpenFile(YapFileName)
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                </span><span style="color: #0000FF;">Dim</span><span style="color: #000000;"> result </span><span style="color: #0000FF;">As</span><span style="color: #000000;"> IObjectSet </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.Get(</span><span style="color: #0000FF;">GetType</span><span style="color: #000000;">(Pilot))
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                System.Console.WriteLine(</span><span style="color: #800000;">&quot;</span><span style="color: #800000;">Read stored results through disc file</span><span style="color: #800000;">&quot;</span><span style="color: #000000;">)
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                ListResult(result)
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">Finally</span><span style="color: #000000;">
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>                db.Close()
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">End</span><span style="color: #000000;"> </span><span style="color: #0000FF;">Try</span><span style="color: #000000;">
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>        </span><span style="color: #0000FF;">End Sub</span></span></div></pre></div></div></span> <br />
</p>
<p>So, switching between disc and memory database is quite easy. It can be used to&nbsp;increase performance on certain operations. More flexibility can be reached writing&nbsp;your own IoAdapter implementation.<br />
<br />
<br />
<br />
</p><style>
.cs{display:none;}
.java{display:none;}
.vb{display:none;}
</style>
</div>
    </div>
    <div id="footer">
					This revision (7) was last Modified 2006-11-04T20:09:09 by Tetyana.
				</div>
  </body>
</html>