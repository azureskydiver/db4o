package com.db4o.ta.internal;import com.db4o.ObjectContainer;public class Activator {	private final ObjectContainer _container;	private boolean _isActivated;	private final Object _subject;	public Activator(ObjectContainer container, Object subject) {		_container = container;		_subject = subject;	}	public void assertCompatible(ObjectContainer container) {		if (_container == container) return;		throw new IllegalStateException();	}		public void activate() {		if (_container == null) return;		if (_isActivated) return;		_container.activate(_subject, activationDepth());		_isActivated = true;	}		public int activationDepth() {		return Math.max(configuredActivationDepth(), 1);	}	private int configuredActivationDepth() {		return _container.ext().configure().objectClass(_subject.getClass()).minimumActivationDepth();	}}