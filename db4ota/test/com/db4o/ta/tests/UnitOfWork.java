/* Copyright (C) 2007   db4objects Inc.   http://www.db4o.com */
package com.db4o.ta.tests;import java.util.Date;import com.db4o.activation.Activator;import com.db4o.ta.Activatable;class UnitOfWork /* TA BEGIN */ implements Activatable /* TA END */ {	Date _started;	Date _finished;	String _name;		// TA BEGIN	transient Activator _activator;	// TA END		public UnitOfWork(String name, Date started, Date finished) {		_name = name;		_started = started;		_finished = finished;	}	public String getName() {		// TA BEGIN		activate();		// TA END		return _name;	}		// TA BEGIN	public void bind(Activator activator) {		if (null != _activator) {			throw new IllegalStateException();		}		_activator = activator;	}		protected void activate() {		if (_activator == null) return;		_activator.activate();	}	// TA END	public long timeSpent() {		// TA BEGIN		activate();		// TA END		return _finished.getTime() - _started.getTime();	}}